function Gr(t,e){return function(){return t.apply(e,arguments)}}const{toString:$o}=Object.prototype,{getPrototypeOf:yn}=Object,Ge=(t=>e=>{const r=$o.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),lt=t=>(t=t.toLowerCase(),e=>Ge(e)===t),Ie=t=>e=>typeof e===t,{isArray:Kt}=Array,Qt=Ie("undefined");function _o(t){return t!==null&&!Qt(t)&&t.constructor!==null&&!Qt(t.constructor)&&it(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ir=lt("ArrayBuffer");function qo(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ir(t.buffer),e}const ta=Ie("string"),it=Ie("function"),Sr=Ie("number"),Se=t=>t!==null&&typeof t=="object",ea=t=>t===!0||t===!1,fe=t=>{if(Ge(t)!=="object")return!1;const e=yn(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},na=lt("Date"),ra=lt("File"),ia=lt("Blob"),sa=lt("FileList"),oa=t=>Se(t)&&it(t.pipe),aa=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||it(t.append)&&((e=Ge(t))==="formdata"||e==="object"&&it(t.toString)&&t.toString()==="[object FormData]"))},ca=lt("URLSearchParams"),[la,da,ua,ha]=["ReadableStream","Request","Response","Headers"].map(lt),ma=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jt(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),Kt(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(n=0;n<l;n++)u=a[n],e.call(null,t[u],u,t)}}function Wr(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const Rt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rr=t=>!Qt(t)&&t!==Rt;function rn(){const{caseless:t}=Rr(this)&&this||{},e={},r=(n,o)=>{const a=t&&Wr(e,o)||o;fe(e[a])&&fe(n)?e[a]=rn(e[a],n):fe(n)?e[a]=rn({},n):Kt(n)?e[a]=n.slice():e[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&jt(arguments[n],r);return e}const fa=(t,e,r,{allOwnKeys:n}={})=>(jt(e,(o,a)=>{r&&it(o)?t[a]=Gr(o,r):t[a]=o},{allOwnKeys:n}),t),pa=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ya=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},ba=(t,e,r,n)=>{let o,a,l;const u={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)l=o[a],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&yn(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},ga=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Za=t=>{if(!t)return null;if(Kt(t))return t;let e=t.length;if(!Sr(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Xa=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yn(Uint8Array)),Ga=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},Ia=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Sa=lt("HTMLFormElement"),Wa=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),tr=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ra=lt("RegExp"),Cr=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};jt(r,(o,a)=>{let l;(l=e(o,a,t))!==!1&&(n[a]=l||o)}),Object.defineProperties(t,n)},Ca=t=>{Cr(t,(e,r)=>{if(it(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(it(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},La=(t,e)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return Kt(t)?n(t):n(String(t).split(e)),r},Ta=()=>{},wa=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,je="abcdefghijklmnopqrstuvwxyz",er="0123456789",Lr={DIGIT:er,ALPHA:je,ALPHA_DIGIT:je+je.toUpperCase()+er},Ya=(t=16,e=Lr.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Ha(t){return!!(t&&it(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Va=t=>{const e=new Array(10),r=(n,o)=>{if(Se(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const a=Kt(n)?[]:{};return jt(n,(l,u)=>{const h=r(l,o+1);!Qt(h)&&(a[u]=h)}),e[o]=void 0,a}}return n};return r(t,0)},Pa=lt("AsyncFunction"),xa=t=>t&&(Se(t)||it(t))&&it(t.then)&&it(t.catch),Tr=((t,e)=>t?setImmediate:e?((r,n)=>(Rt.addEventListener("message",({source:o,data:a})=>{o===Rt&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Rt.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",it(Rt.postMessage)),Ka=typeof queueMicrotask<"u"?queueMicrotask.bind(Rt):typeof process<"u"&&process.nextTick||Tr,Z={isArray:Kt,isArrayBuffer:Ir,isBuffer:_o,isFormData:aa,isArrayBufferView:qo,isString:ta,isNumber:Sr,isBoolean:ea,isObject:Se,isPlainObject:fe,isReadableStream:la,isRequest:da,isResponse:ua,isHeaders:ha,isUndefined:Qt,isDate:na,isFile:ra,isBlob:ia,isRegExp:Ra,isFunction:it,isStream:oa,isURLSearchParams:ca,isTypedArray:Xa,isFileList:sa,forEach:jt,merge:rn,extend:fa,trim:ma,stripBOM:pa,inherits:ya,toFlatObject:ba,kindOf:Ge,kindOfTest:lt,endsWith:ga,toArray:Za,forEachEntry:Ga,matchAll:Ia,isHTMLForm:Sa,hasOwnProperty:tr,hasOwnProp:tr,reduceDescriptors:Cr,freezeMethods:Ca,toObjectSet:La,toCamelCase:Wa,noop:Ta,toFiniteNumber:wa,findKey:Wr,global:Rt,isContextDefined:Rr,ALPHABET:Lr,generateString:Ya,isSpecCompliantForm:Ha,toJSONObject:Va,isAsyncFn:Pa,isThenable:xa,setImmediate:Tr,asap:Ka};function J(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}Z.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const wr=J.prototype,Yr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Yr[t]={value:t}});Object.defineProperties(J,Yr);Object.defineProperty(wr,"isAxiosError",{value:!0});J.from=(t,e,r,n,o,a)=>{const l=Object.create(wr);return Z.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),J.call(l,t.message,e,r,n,o),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const Ja=null;function sn(t){return Z.isPlainObject(t)||Z.isArray(t)}function Hr(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function nr(t,e,r){return t?t.concat(e).map(function(o,a){return o=Hr(o),!r&&a?"["+o+"]":o}).join(r?".":""):e}function va(t){return Z.isArray(t)&&!t.some(sn)}const ka=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function We(t,e,r){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,R){return!Z.isUndefined(R[S])});const n=r.metaTokens,o=r.visitor||g,a=r.dots,l=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(o))throw new TypeError("visitor must be a function");function b(G){if(G===null)return"";if(Z.isDate(G))return G.toISOString();if(!h&&Z.isBlob(G))throw new J("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(G)||Z.isTypedArray(G)?h&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function g(G,S,R){let C=G;if(G&&!R&&typeof G=="object"){if(Z.endsWith(S,"{}"))S=n?S:S.slice(0,-2),G=JSON.stringify(G);else if(Z.isArray(G)&&va(G)||(Z.isFileList(G)||Z.endsWith(S,"[]"))&&(C=Z.toArray(G)))return S=Hr(S),C.forEach(function(Y,V){!(Z.isUndefined(Y)||Y===null)&&e.append(l===!0?nr([S],V,a):l===null?S:S+"[]",b(Y))}),!1}return sn(G)?!0:(e.append(nr(R,S,a),b(G)),!1)}const I=[],L=Object.assign(ka,{defaultVisitor:g,convertValue:b,isVisitable:sn});function T(G,S){if(!Z.isUndefined(G)){if(I.indexOf(G)!==-1)throw Error("Circular reference detected in "+S.join("."));I.push(G),Z.forEach(G,function(C,H){(!(Z.isUndefined(C)||C===null)&&o.call(e,C,Z.isString(H)?H.trim():H,S,L))===!0&&T(C,S?S.concat(H):[H])}),I.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return T(t),e}function rr(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function bn(t,e){this._pairs=[],t&&We(t,this,e)}const Vr=bn.prototype;Vr.append=function(e,r){this._pairs.push([e,r])};Vr.toString=function(e){const r=e?function(n){return e.call(this,n,rr)}:rr;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function Fa(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pr(t,e,r){if(!e)return t;const n=r&&r.encode||Fa,o=r&&r.serialize;let a;if(o?a=o(e,r):a=Z.isURLSearchParams(e)?e.toString():new bn(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ir{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ba=typeof URLSearchParams<"u"?URLSearchParams:bn,Ea=typeof FormData<"u"?FormData:null,Na=typeof Blob<"u"?Blob:null,Ua={isBrowser:!0,classes:{URLSearchParams:Ba,FormData:Ea,Blob:Na},protocols:["http","https","file","blob","url","data"]},gn=typeof window<"u"&&typeof document<"u",on=typeof navigator=="object"&&navigator||void 0,Ma=gn&&(!on||["ReactNative","NativeScript","NS"].indexOf(on.product)<0),Qa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",za=gn&&window.location.href||"http://localhost",ja=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gn,hasStandardBrowserEnv:Ma,hasStandardBrowserWebWorkerEnv:Qa,navigator:on,origin:za},Symbol.toStringTag,{value:"Module"})),nt={...ja,...Ua};function Oa(t,e){return We(t,new nt.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return nt.isNode&&Z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Aa(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Da(t){const e={},r=Object.keys(t);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],e[a]=t[a];return e}function Kr(t){function e(r,n,o,a){let l=r[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=a>=r.length;return l=!l&&Z.isArray(o)?o.length:l,h?(Z.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!u):((!o[l]||!Z.isObject(o[l]))&&(o[l]=[]),e(r,n,o[l],a)&&Z.isArray(o[l])&&(o[l]=Da(o[l])),!u)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const r={};return Z.forEachEntry(t,(n,o)=>{e(Aa(n),o,r,0)}),r}return null}function $a(t,e,r){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const Ot={transitional:xr,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=Z.isObject(e);if(a&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return o?JSON.stringify(Kr(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Oa(e,this.formSerializer).toString();if((u=Z.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return We(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),$a(e)):e}],transformResponse:[function(e){const r=this.transitional||Ot.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?J.from(u,J.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{Ot.headers[t]={}});const _a=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qa=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||e[r]&&_a[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},sr=Symbol("internals");function Nt(t){return t&&String(t).trim().toLowerCase()}function pe(t){return t===!1||t==null?t:Z.isArray(t)?t.map(pe):String(t)}function tc(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const ec=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Oe(t,e,r,n,o){if(Z.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!Z.isString(e)){if(Z.isString(n))return e.indexOf(n)!==-1;if(Z.isRegExp(n))return n.test(e)}}function nc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function rc(t,e){const r=Z.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,a,l){return this[n].call(this,e,o,a,l)},configurable:!0})})}class rt{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function a(u,h,b){const g=Nt(h);if(!g)throw new Error("header name must be a non-empty string");const I=Z.findKey(o,g);(!I||o[I]===void 0||b===!0||b===void 0&&o[I]!==!1)&&(o[I||h]=pe(u))}const l=(u,h)=>Z.forEach(u,(b,g)=>a(b,g,h));if(Z.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(Z.isString(e)&&(e=e.trim())&&!ec(e))l(qa(e),r);else if(Z.isHeaders(e))for(const[u,h]of e.entries())a(h,u,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=Nt(e),e){const n=Z.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return tc(o);if(Z.isFunction(r))return r.call(this,o,n);if(Z.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Nt(e),e){const n=Z.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Oe(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function a(l){if(l=Nt(l),l){const u=Z.findKey(n,l);u&&(!r||Oe(n,n[u],u,r))&&(delete n[u],o=!0)}}return Z.isArray(e)?e.forEach(a):a(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!e||Oe(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const r=this,n={};return Z.forEach(this,(o,a)=>{const l=Z.findKey(n,a);if(l){r[l]=pe(o),delete r[a];return}const u=e?nc(a):String(a).trim();u!==a&&delete r[a],r[u]=pe(o),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Z.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&Z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[sr]=this[sr]={accessors:{}}).accessors,o=this.prototype;function a(l){const u=Nt(l);n[u]||(rc(o,l),n[u]=!0)}return Z.isArray(e)?e.forEach(a):a(e),this}}rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(rt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Z.freezeMethods(rt);function Ae(t,e){const r=this||Ot,n=e||r,o=rt.from(n.headers);let a=n.data;return Z.forEach(t,function(u){a=u.call(r,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function Jr(t){return!!(t&&t.__CANCEL__)}function Jt(t,e,r){J.call(this,t??"canceled",J.ERR_CANCELED,e,r),this.name="CanceledError"}Z.inherits(Jt,J,{__CANCEL__:!0});function vr(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new J("Request failed with status code "+r.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ic(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sc(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const b=Date.now(),g=n[a];l||(l=b),r[o]=h,n[o]=b;let I=a,L=0;for(;I!==o;)L+=r[I++],I=I%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),b-l<e)return;const T=g&&b-g;return T?Math.round(L*1e3/T):void 0}}function oc(t,e){let r=0,n=1e3/e,o,a;const l=(b,g=Date.now())=>{r=g,o=null,a&&(clearTimeout(a),a=null),t.apply(null,b)};return[(...b)=>{const g=Date.now(),I=g-r;I>=n?l(b,g):(o=b,a||(a=setTimeout(()=>{a=null,l(o)},n-I)))},()=>o&&l(o)]}const ye=(t,e,r=3)=>{let n=0;const o=sc(50,250);return oc(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,h=l-n,b=o(h),g=l<=u;n=l;const I={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:b||void 0,estimated:b&&u&&g?(u-l)/b:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(I)},r)},or=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},ar=t=>(...e)=>Z.asap(()=>t(...e)),ac=nt.hasStandardBrowserEnv?function(){const e=nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent),r=document.createElement("a");let n;function o(a){let l=a;return e&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=o(window.location.href),function(l){const u=Z.isString(l)?o(l):l;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}(),cc=nt.hasStandardBrowserEnv?{write(t,e,r,n,o,a){const l=[t+"="+encodeURIComponent(e)];Z.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),Z.isString(n)&&l.push("path="+n),Z.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dc(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kr(t,e){return t&&!lc(e)?dc(t,e):e}const cr=t=>t instanceof rt?{...t}:t;function Lt(t,e){e=e||{};const r={};function n(b,g,I){return Z.isPlainObject(b)&&Z.isPlainObject(g)?Z.merge.call({caseless:I},b,g):Z.isPlainObject(g)?Z.merge({},g):Z.isArray(g)?g.slice():g}function o(b,g,I){if(Z.isUndefined(g)){if(!Z.isUndefined(b))return n(void 0,b,I)}else return n(b,g,I)}function a(b,g){if(!Z.isUndefined(g))return n(void 0,g)}function l(b,g){if(Z.isUndefined(g)){if(!Z.isUndefined(b))return n(void 0,b)}else return n(void 0,g)}function u(b,g,I){if(I in e)return n(b,g);if(I in t)return n(void 0,b)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(b,g)=>o(cr(b),cr(g),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(g){const I=h[g]||o,L=I(t[g],e[g],g);Z.isUndefined(L)&&I!==u||(r[g]=L)}),r}const Fr=t=>{const e=Lt({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=rt.from(l),e.url=Pr(kr(e.baseURL,e.url),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(Z.isFormData(r)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[b,...g]=h?h.split(";").map(I=>I.trim()).filter(Boolean):[];l.setContentType([b||"multipart/form-data",...g].join("; "))}}if(nt.hasStandardBrowserEnv&&(n&&Z.isFunction(n)&&(n=n(e)),n||n!==!1&&ac(e.url))){const b=o&&a&&cc.read(a);b&&l.set(o,b)}return e},uc=typeof XMLHttpRequest<"u",hc=uc&&function(t){return new Promise(function(r,n){const o=Fr(t);let a=o.data;const l=rt.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:b}=o,g,I,L,T,G;function S(){T&&T(),G&&G(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let R=new XMLHttpRequest;R.open(o.method.toUpperCase(),o.url,!0),R.timeout=o.timeout;function C(){if(!R)return;const Y=rt.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:Y,config:t,request:R};vr(function(U){r(U),S()},function(U){n(U),S()},P),R=null}"onloadend"in R?R.onloadend=C:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(C)},R.onabort=function(){R&&(n(new J("Request aborted",J.ECONNABORTED,t,R)),R=null)},R.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let V=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const P=o.transitional||xr;o.timeoutErrorMessage&&(V=o.timeoutErrorMessage),n(new J(V,P.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,R)),R=null},a===void 0&&l.setContentType(null),"setRequestHeader"in R&&Z.forEach(l.toJSON(),function(V,P){R.setRequestHeader(P,V)}),Z.isUndefined(o.withCredentials)||(R.withCredentials=!!o.withCredentials),u&&u!=="json"&&(R.responseType=o.responseType),b&&([L,G]=ye(b,!0),R.addEventListener("progress",L)),h&&R.upload&&([I,T]=ye(h),R.upload.addEventListener("progress",I),R.upload.addEventListener("loadend",T)),(o.cancelToken||o.signal)&&(g=Y=>{R&&(n(!Y||Y.type?new Jt(null,t,R):Y),R.abort(),R=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const H=ic(o.url);if(H&&nt.protocols.indexOf(H)===-1){n(new J("Unsupported protocol "+H+":",J.ERR_BAD_REQUEST,t));return}R.send(a||null)})},mc=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,o;const a=function(b){if(!o){o=!0,u();const g=b instanceof Error?b:this.reason;n.abort(g instanceof J?g:new Jt(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(b=>{b.unsubscribe?b.unsubscribe(a):b.removeEventListener("abort",a)}),t=null)};t.forEach(b=>b.addEventListener("abort",a));const{signal:h}=n;return h.unsubscribe=()=>Z.asap(u),h}},fc=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,o;for(;n<r;)o=n+e,yield t.slice(n,o),n=o},pc=async function*(t,e){for await(const r of yc(t))yield*fc(r,e)},yc=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},lr=(t,e,r,n)=>{const o=pc(t,e);let a=0,l,u=h=>{l||(l=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:b,value:g}=await o.next();if(b){u(),h.close();return}let I=g.byteLength;if(r){let L=a+=I;r(L)}h.enqueue(new Uint8Array(g))}catch(b){throw u(b),b}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},Re=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Br=Re&&typeof ReadableStream=="function",bc=Re&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Er=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gc=Br&&Er(()=>{let t=!1;const e=new Request(nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),dr=64*1024,an=Br&&Er(()=>Z.isReadableStream(new Response("").body)),be={stream:an&&(t=>t.body)};Re&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!be[e]&&(be[e]=Z.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,n)})})})(new Response);const Zc=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(nt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t)||Z.isArrayBuffer(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await bc(t)).byteLength},Xc=async(t,e)=>{const r=Z.toFiniteNumber(t.getContentLength());return r??Zc(e)},Gc=Re&&(async t=>{let{url:e,method:r,data:n,signal:o,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:b,headers:g,withCredentials:I="same-origin",fetchOptions:L}=Fr(t);b=b?(b+"").toLowerCase():"text";let T=mc([o,a&&a.toAbortSignal()],l),G;const S=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let R;try{if(h&&gc&&r!=="get"&&r!=="head"&&(R=await Xc(g,n))!==0){let P=new Request(e,{method:"POST",body:n,duplex:"half"}),K;if(Z.isFormData(n)&&(K=P.headers.get("content-type"))&&g.setContentType(K),P.body){const[U,O]=or(R,ye(ar(h)));n=lr(P.body,dr,U,O)}}Z.isString(I)||(I=I?"include":"omit");const C="credentials"in Request.prototype;G=new Request(e,{...L,signal:T,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:C?I:void 0});let H=await fetch(G);const Y=an&&(b==="stream"||b==="response");if(an&&(u||Y&&S)){const P={};["status","statusText","headers"].forEach(_=>{P[_]=H[_]});const K=Z.toFiniteNumber(H.headers.get("content-length")),[U,O]=u&&or(K,ye(ar(u),!0))||[];H=new Response(lr(H.body,dr,U,()=>{O&&O(),S&&S()}),P)}b=b||"text";let V=await be[Z.findKey(be,b)||"text"](H,t);return!Y&&S&&S(),await new Promise((P,K)=>{vr(P,K,{data:V,headers:rt.from(H.headers),status:H.status,statusText:H.statusText,config:t,request:G})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,t,G),{cause:C.cause||C}):J.from(C,C&&C.code,t,G)}}),cn={http:Ja,xhr:hc,fetch:Gc};Z.forEach(cn,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ur=t=>`- ${t}`,Ic=t=>Z.isFunction(t)||t===null||t===!1,Nr={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!Ic(r)&&(n=cn[(l=String(r)).toLowerCase()],n===void 0))throw new J(`Unknown adapter '${l}'`);if(n)break;o[l||"#"+a]=n}if(!n){const a=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(ur).join(`
`):" "+ur(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:cn};function De(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jt(null,t)}function hr(t){return De(t),t.headers=rt.from(t.headers),t.data=Ae.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Nr.getAdapter(t.adapter||Ot.adapter)(t).then(function(n){return De(t),n.data=Ae.call(t,t.transformResponse,n),n.headers=rt.from(n.headers),n},function(n){return Jr(n)||(De(t),n&&n.response&&(n.response.data=Ae.call(t,t.transformResponse,n.response),n.response.headers=rt.from(n.response.headers))),Promise.reject(n)})}const Ur="1.7.7",Zn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const mr={};Zn.transitional=function(e,r,n){function o(a,l){return"[Axios v"+Ur+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,u)=>{if(e===!1)throw new J(o(l," has been removed"+(r?" in "+r:"")),J.ERR_DEPRECATED);return r&&!mr[l]&&(mr[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,u):!0}};function Sc(t,e,r){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const a=n[o],l=e[a];if(l){const u=t[a],h=u===void 0||l(u,a,t);if(h!==!0)throw new J("option "+a+" must be "+h,J.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const ln={assertOptions:Sc,validators:Zn},bt=ln.validators;class Ct{constructor(e){this.defaults=e,this.interceptors={request:new ir,response:new ir}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Lt(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&ln.assertOptions(n,{silentJSONParsing:bt.transitional(bt.boolean),forcedJSONParsing:bt.transitional(bt.boolean),clarifyTimeoutError:bt.transitional(bt.boolean)},!1),o!=null&&(Z.isFunction(o)?r.paramsSerializer={serialize:o}:ln.assertOptions(o,{encode:bt.function,serialize:bt.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&Z.merge(a.common,a[r.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],G=>{delete a[G]}),r.headers=rt.concat(l,a);const u=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(h=h&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const b=[];this.interceptors.response.forEach(function(S){b.push(S.fulfilled,S.rejected)});let g,I=0,L;if(!h){const G=[hr.bind(this),void 0];for(G.unshift.apply(G,u),G.push.apply(G,b),L=G.length,g=Promise.resolve(r);I<L;)g=g.then(G[I++],G[I++]);return g}L=u.length;let T=r;for(I=0;I<L;){const G=u[I++],S=u[I++];try{T=G(T)}catch(R){S.call(this,R);break}}try{g=hr.call(this,T)}catch(G){return Promise.reject(G)}for(I=0,L=b.length;I<L;)g=g.then(b[I++],b[I++]);return g}getUri(e){e=Lt(this.defaults,e);const r=kr(e.baseURL,e.url);return Pr(r,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){Ct.prototype[e]=function(r,n){return this.request(Lt(n||{},{method:e,url:r,data:(n||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,u){return this.request(Lt(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ct.prototype[e]=r(),Ct.prototype[e+"Form"]=r(!0)});class Xn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(u=>{n.subscribe(u),a=u}).then(o);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,u){n.reason||(n.reason=new Jt(a,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Xn(function(o){e=o}),cancel:e}}}function Wc(t){return function(r){return t.apply(null,r)}}function Rc(t){return Z.isObject(t)&&t.isAxiosError===!0}const dn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dn).forEach(([t,e])=>{dn[e]=t});function Mr(t){const e=new Ct(t),r=Gr(Ct.prototype.request,e);return Z.extend(r,Ct.prototype,e,{allOwnKeys:!0}),Z.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return Mr(Lt(t,o))},r}const D=Mr(Ot);D.Axios=Ct;D.CanceledError=Jt;D.CancelToken=Xn;D.isCancel=Jr;D.VERSION=Ur;D.toFormData=We;D.AxiosError=J;D.Cancel=D.CanceledError;D.all=function(e){return Promise.all(e)};D.spread=Wc;D.isAxiosError=Rc;D.mergeConfig=Lt;D.AxiosHeaders=rt;D.formToJSON=t=>Kr(Z.isHTMLForm(t)?new FormData(t):t);D.getAdapter=Nr.getAdapter;D.HttpStatusCode=dn;D.default=D;window.axios=D;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";document.addEventListener("alpine:init",()=>{Alpine.store("listManager",{items:[],filteredItems:[],selectedCategory:"",selectedCommodity:"",categories:[],commodities:[],isLoading:!1,localSearchTerm:"",init(t=[]){this.items=t,this.filteredItems=[...this.items],this.extractFilterOptions(),this.applyFilters()},extractFilterOptions(){this.categories=[...new Set(this.items.map(t=>t.category).filter(Boolean))].sort(),this.commodities=[...new Set(this.items.map(t=>t.commodity).filter(Boolean))].sort()},applyFilters(){this.filteredItems=this.items.filter(t=>{let e=!0,r=!0,n=!0;return this.selectedCategory&&(e=t.category===this.selectedCategory),this.selectedCommodity&&(r=t.commodity===this.selectedCommodity),this.localSearchTerm&&this.localSearchTerm.trim()&&(n=this.matchesSearchTerm(t,this.localSearchTerm.trim().toLowerCase())),e&&r&&n})},addItem(t,e){const r=t.organic||!1;return this.items.find(o=>o.plu_code_id===t.id&&o.organic===r)?(this.showNotification(`This ${r?"organic":"regular"} item is already in list`,"info"),!1):(this.persistItem(t,e),this.showNotification("Adding item...","info"),!0)},async persistItem(t,e){try{window.dispatchEvent(new CustomEvent("trigger-add-item",{detail:{pluCodeId:t.id,organic:t.organic||!1}}))}catch(r){console.error("Error persisting item:",r),this.showNotification("Failed to add item","error")}},removeItem(t){const e=this.items.findIndex(r=>r.id===t);if(e!==-1){const r=this.items[e];this.items.splice(e,1),this.extractFilterOptions(),this.applyFilters(),r.isTemp||this.persistRemoval(r.plu_code_id),this.showNotification("Item removed","success")}},removeItemById(t){const e=this.items.findIndex(r=>r.id===t);e!==-1&&(this.items.splice(e,1),this.applyFilters())},async persistRemoval(t){try{await window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).call("removePLUCodeHeadless",t)}catch(e){console.error("Error removing item:",e),this.showNotification("Failed to remove item from server","error")}},updateInventory(t,e){const r=this.items.find(n=>n.id===t);if(r){const n=Math.max(0,(r.inventory_level||0)+e);r.inventory_level=n,this.applyFilters()}},updateItem(t,e){const r=this.items.findIndex(n=>n.id===t);r!==-1&&(Object.assign(this.items[r],e),this.applyFilters(),this.persistItemUpdate(t,e))},async persistItemUpdate(t,e){try{await window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).call("updateListItemHeadless",t,e)}catch(r){console.error("Error updating item:",r),this.showNotification("Failed to update item","error")}},clearAllInventory(){this.items.forEach(t=>{t.inventory_level=0})},showNotification(t,e="info"){window.dispatchEvent(new CustomEvent("notify",{detail:{message:t,type:e}}))},setFilter(t,e){t==="category"?this.selectedCategory=e:t==="commodity"&&(this.selectedCommodity=e),this.applyFilters()},resetFilters(){this.selectedCategory="",this.selectedCommodity="",this.applyFilters()},matchesSearchTerm(t,e){return!!(t.item_type==="plu"&&(t.plu&&t.plu.toString().includes(e)||t.organic&&("9"+t.plu).includes(e)||t.variety&&t.variety.toLowerCase().includes(e)||t.commodity&&t.commodity.toLowerCase().includes(e)||t.category&&t.category.toLowerCase().includes(e)||t.size&&t.size.toLowerCase().includes(e))||t.item_type==="upc"&&(t.upc&&t.upc.toString().includes(e)||t.name&&t.name.toLowerCase().includes(e)||t.brand&&t.brand.toLowerCase().includes(e)||t.commodity&&t.commodity.toLowerCase().includes(e)||t.category&&t.category.toLowerCase().includes(e)))},setLocalSearch(t){this.localSearchTerm=t,this.applyFilters()},clearLocalSearch(){this.localSearchTerm="",this.applyFilters()},isItemVisible(t){if(!this.localSearchTerm||!this.localSearchTerm.trim())return!0;const e=document.querySelector(`[data-item-id="${t}"]`);if(!e)return!0;const r=e.getAttribute("data-search-content");if(!r)return!0;const n=this.localSearchTerm.trim().toLowerCase();return r.toLowerCase().includes(n)},getVisibleItemCount(){if(!this.localSearchTerm||!this.localSearchTerm.trim())return document.querySelectorAll(".list-item-row[data-item-id]").length;const t=this.localSearchTerm.trim().toLowerCase();let e=0;return document.querySelectorAll(".list-item-row[data-item-id]").forEach(r=>{const n=r.getAttribute("data-search-content");n&&n.toLowerCase().includes(t)&&e++}),e},isCommodityVisible(t){if(!this.localSearchTerm||!this.localSearchTerm.trim())return!0;const e=this.localSearchTerm.trim().toLowerCase(),r=document.querySelectorAll(`.list-item-row[data-commodity="${t}"]`);for(let n of r){const o=n.getAttribute("data-search-content");if(o&&o.toLowerCase().includes(e))return!0}return!1}})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("ServiceWorker registered:",t),setInterval(()=>{t.update()},6e4),t.addEventListener("updatefound",()=>{const e=t.installing;e.addEventListener("statechange",()=>{e.state==="activated"&&navigator.serviceWorker.controller&&confirm("A new version is available. Reload to update?")&&window.location.reload()})})}).catch(t=>{console.error("ServiceWorker registration failed:",t)})});let ue;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),ue=t;const e=document.getElementById("pwa-install-button");e&&(e.style.display="block",e.addEventListener("click",()=>{e.style.display="none",ue.prompt(),ue.userChoice.then(r=>{r.outcome==="accepted"&&console.log("User accepted the install prompt"),ue=null})}))});function Cc(){return!!(window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches||new URLSearchParams(window.location.search).get("source")==="pwa")}if(Cc()){document.documentElement.classList.add("pwa-standalone"),console.log("Running in standalone PWA mode");const t=document.getElementById("pwa-install-button");t&&(t.style.display="none")}Alpine.data("networkStatus",()=>({online:navigator.onLine,showOfflineMessage:!1,init(){window.addEventListener("online",()=>{this.online=!0,this.showOfflineMessage=!1}),window.addEventListener("offline",()=>{this.online=!1,this.showOfflineMessage=!0,setTimeout(()=>{this.showOfflineMessage=!1},5e3)})}}));const Qr="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHV0PVtbIkF6dGVjIiwiTSJdLFsiQ29kYWJhciIsIkwiXSxbIkNvZGUzOSIsIkwiXSxbIkNvZGU5MyIsIkwiXSxbIkNvZGUxMjgiLCJMIl0sWyJEYXRhQmFyIiwiTCJdLFsiRGF0YUJhckV4cGFuZGVkIiwiTCJdLFsiRGF0YU1hdHJpeCIsIk0iXSxbIkVBTi04IiwiTCJdLFsiRUFOLTEzIiwiTCJdLFsiSVRGIiwiTCJdLFsiTWF4aUNvZGUiLCJNIl0sWyJQREY0MTciLCJNIl0sWyJRUkNvZGUiLCJNIl0sWyJVUEMtQSIsIkwiXSxbIlVQQy1FIiwiTCJdLFsiTWljcm9RUkNvZGUiLCJNIl0sWyJyTVFSQ29kZSIsIk0iXSxbIkRYRmlsbUVkZ2UiLCJMIl0sWyJEYXRhQmFyTGltaXRlZCIsIkwiXV0sY3Q9dXQubWFwKChbaF0pPT5oKSxXcj1jdC5maWx0ZXIoKGgscCk9PnV0W3BdWzFdPT09IkwiKSxrcj1jdC5maWx0ZXIoKGgscCk9PnV0W3BdWzFdPT09Ik0iKTtmdW5jdGlvbiB4dChoKXtzd2l0Y2goaCl7Y2FzZSJMaW5lYXItQ29kZXMiOnJldHVybiBXci5yZWR1Y2UoKHAseSk9PnB8eHQoeSksMCk7Y2FzZSJNYXRyaXgtQ29kZXMiOnJldHVybiBrci5yZWR1Y2UoKHAseSk9PnB8eHQoeSksMCk7Y2FzZSJBbnkiOnJldHVybigxPDx1dC5sZW5ndGgpLTE7Y2FzZSJOb25lIjpyZXR1cm4gMDtkZWZhdWx0OnJldHVybiAxPDxjdC5pbmRleE9mKGgpfX1mdW5jdGlvbiBMcihoKXtpZihoPT09MClyZXR1cm4iTm9uZSI7Y29uc3QgcD0zMS1NYXRoLmNsejMyKGgpO3JldHVybiBjdFtwXX1mdW5jdGlvbiBVcihoKXtyZXR1cm4gaC5yZWR1Y2UoKHAseSk9PnB8eHQoeSksMCl9Y29uc3QgQnI9WyJMb2NhbEF2ZXJhZ2UiLCJHbG9iYWxIaXN0b2dyYW0iLCJGaXhlZFRocmVzaG9sZCIsIkJvb2xDYXN0Il07ZnVuY3Rpb24gSHIoaCl7cmV0dXJuIEJyLmluZGV4T2YoaCl9Y29uc3QgWXQ9WyJVbmtub3duIiwiQVNDSUkiLCJJU084ODU5XzEiLCJJU084ODU5XzIiLCJJU084ODU5XzMiLCJJU084ODU5XzQiLCJJU084ODU5XzUiLCJJU084ODU5XzYiLCJJU084ODU5XzciLCJJU084ODU5XzgiLCJJU084ODU5XzkiLCJJU084ODU5XzEwIiwiSVNPODg1OV8xMSIsIklTTzg4NTlfMTMiLCJJU084ODU5XzE0IiwiSVNPODg1OV8xNSIsIklTTzg4NTlfMTYiLCJDcDQzNyIsIkNwMTI1MCIsIkNwMTI1MSIsIkNwMTI1MiIsIkNwMTI1NiIsIlNoaWZ0X0pJUyIsIkJpZzUiLCJHQjIzMTIiLCJHQjE4MDMwIiwiRVVDX0pQIiwiRVVDX0tSIiwiVVRGMTZCRSIsIlVURjE2QkUiLCJVVEY4IiwiVVRGMTZMRSIsIlVURjMyQkUiLCJVVEYzMkxFIiwiQklOQVJZIl07ZnVuY3Rpb24genIoaCl7cmV0dXJuIGg9PT0iVW5pY29kZUJpZyI/WXQuaW5kZXhPZigiVVRGMTZCRSIpOll0LmluZGV4T2YoaCl9Y29uc3QgVnI9WyJUZXh0IiwiQmluYXJ5IiwiTWl4ZWQiLCJHUzEiLCJJU08xNTQzNCIsIlVua25vd25FQ0kiXTtmdW5jdGlvbiBOcihoKXtyZXR1cm4gVnJbaF19Y29uc3QgR3I9WyJJZ25vcmUiLCJSZWFkIiwiUmVxdWlyZSJdO2Z1bmN0aW9uIHFyKGgpe3JldHVybiBHci5pbmRleE9mKGgpfWNvbnN0IFFyPVsiUGxhaW4iLCJFQ0kiLCJIUkkiLCJIZXgiLCJFc2NhcGVkIl07ZnVuY3Rpb24gSnIoaCl7cmV0dXJuIFFyLmluZGV4T2YoaCl9Y29uc3QgbHQ9e2Zvcm1hdHM6W10sdHJ5SGFyZGVyOiEwLHRyeVJvdGF0ZTohMCx0cnlJbnZlcnQ6ITAsdHJ5RG93bnNjYWxlOiEwLHRyeURlbm9pc2U6ITEsYmluYXJpemVyOiJMb2NhbEF2ZXJhZ2UiLGlzUHVyZTohMSxkb3duc2NhbGVGYWN0b3I6Myxkb3duc2NhbGVUaHJlc2hvbGQ6NTAwLG1pbkxpbmVDb3VudDoyLG1heE51bWJlck9mU3ltYm9sczoyNTUsdHJ5Q29kZTM5RXh0ZW5kZWRNb2RlOiEwLHJldHVybkVycm9yczohMSxlYW5BZGRPblN5bWJvbDoiSWdub3JlIix0ZXh0TW9kZToiSFJJIixjaGFyYWN0ZXJTZXQ6IlVua25vd24ifTtmdW5jdGlvbiBadChoKXtyZXR1cm57Li4uaCxmb3JtYXRzOlVyKGguZm9ybWF0cyksYmluYXJpemVyOkhyKGguYmluYXJpemVyKSxlYW5BZGRPblN5bWJvbDpxcihoLmVhbkFkZE9uU3ltYm9sKSx0ZXh0TW9kZTpKcihoLnRleHRNb2RlKSxjaGFyYWN0ZXJTZXQ6enIoaC5jaGFyYWN0ZXJTZXQpfX1mdW5jdGlvbiBYcihoKXtyZXR1cm57Li4uaCxmb3JtYXQ6THIoaC5mb3JtYXQpLGNvbnRlbnRUeXBlOk5yKGguY29udGVudFR5cGUpLGVjY0xldmVsOmguZWNMZXZlbH19Y29uc3QgWXI9e2xvY2F0ZUZpbGU6KGgscCk9Pntjb25zdCB5PWgubWF0Y2goL18oLis/KVwud2FzbSQvKTtyZXR1cm4geT9gaHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L25wbS96eGluZy13YXNtQDIuMi4xL2Rpc3QvJHt5WzFdfS8ke2h9YDpwK2h9fSxFdD1uZXcgV2Vha01hcDtmdW5jdGlvbiBacihoLHApe3JldHVybiBPYmplY3QuaXMoaCxwKXx8T2JqZWN0LmtleXMoaCkubGVuZ3RoPT09T2JqZWN0LmtleXMocCkubGVuZ3RoJiZPYmplY3Qua2V5cyhoKS5ldmVyeSh5PT5PYmplY3QuaGFzT3duKHAseSkmJmhbeV09PT1wW3ldKX1mdW5jdGlvbiBLdChoLHtvdmVycmlkZXM6cCxlcXVhbGl0eUZuOnk9WnIsZmlyZUltbWVkaWF0ZWx5OmM9ITF9PXt9KXt2YXIgQTtjb25zdFtPLEVdPShBPUV0LmdldChoKSkhPW51bGw/QTpbWXJdLE09cD8/TztsZXQgajtpZihjKXtpZihFJiYoaj15KE8sTSkpKXJldHVybiBFO2NvbnN0IEQ9aCh7Li4uTX0pO3JldHVybiBFdC5zZXQoaCxbTSxEXSksRH0oaj8/eShPLE0pKXx8RXQuc2V0KGgsW01dKX1hc3luYyBmdW5jdGlvbiBLcihoLHAseT1sdCl7Y29uc3QgYz17Li4ubHQsLi4ueX0sQT1hd2FpdCBLdChoLHtmaXJlSW1tZWRpYXRlbHk6ITB9KTtsZXQgTyxFO2lmKCJ3aWR0aCJpbiBwJiYiaGVpZ2h0ImluIHAmJiJkYXRhImluIHApe2NvbnN0e2RhdGE6aixkYXRhOntieXRlTGVuZ3RoOkR9LHdpZHRoOmh0LGhlaWdodDpGdH09cDtFPUEuX21hbGxvYyhEKSxBLkhFQVBVOC5zZXQoaixFKSxPPUEucmVhZEJhcmNvZGVzRnJvbVBpeG1hcChFLGh0LEZ0LFp0KGMpKX1lbHNle2xldCBqLEQ7aWYoImJ1ZmZlciJpbiBwKVtqLERdPVtwLmJ5dGVMZW5ndGgscF07ZWxzZSBpZigiYnl0ZUxlbmd0aCJpbiBwKVtqLERdPVtwLmJ5dGVMZW5ndGgsbmV3IFVpbnQ4QXJyYXkocCldO2Vsc2UgaWYoInNpemUiaW4gcClbaixEXT1bcC5zaXplLG5ldyBVaW50OEFycmF5KGF3YWl0IHAuYXJyYXlCdWZmZXIoKSldO2Vsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBpbnB1dCB0eXBlIik7RT1BLl9tYWxsb2MoaiksQS5IRUFQVTguc2V0KEQsRSksTz1BLnJlYWRCYXJjb2Rlc0Zyb21JbWFnZShFLGosWnQoYykpfUEuX2ZyZWUoRSk7Y29uc3QgTT1bXTtmb3IobGV0IGo9MDtqPE8uc2l6ZSgpOysrailNLnB1c2goWHIoTy5nZXQoaikpKTtyZXR1cm4gTX0oey4uLmx0LGZvcm1hdHM6Wy4uLmx0LmZvcm1hdHNdfSk7dmFyIHRyPWFzeW5jIGZ1bmN0aW9uKGg9e30pe3ZhciBwLHksYz1oLEEsTyxFPW5ldyBQcm9taXNlKChyLHQpPT57QT1yLE89dH0pLE09dHlwZW9mIHdpbmRvdz09Im9iamVjdCIsaj10eXBlb2YgQnVuPCJ1IixEPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZTwidSI7dHlwZW9mIHByb2Nlc3M9PSJvYmplY3QiJiYhKCh5PXByb2Nlc3MudmVyc2lvbnMpPT09bnVsbHx8eT09PXZvaWQgMCkmJnkubm9kZSYmcHJvY2Vzcy50eXBlIT0icmVuZGVyZXIiO3ZhciBodD0iLi90aGlzLnByb2dyYW0iLEZ0LFJ0PSIiO2Z1bmN0aW9uIHJlKHIpe3JldHVybiBjLmxvY2F0ZUZpbGU/Yy5sb2NhdGVGaWxlKHIsUnQpOlJ0K3J9dmFyIG5yLE10O2lmKE18fER8fGope3RyeXtSdD1uZXcgVVJMKCIuIixGdCkuaHJlZn1jYXRjaHt9RCYmKE10PXI9Pnt2YXIgdD1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIHQub3BlbigiR0VUIixyLCExKSx0LnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiLHQuc2VuZChudWxsKSxuZXcgVWludDhBcnJheSh0LnJlc3BvbnNlKX0pLG5yPWFzeW5jIHI9Pnt2YXIgdD1hd2FpdCBmZXRjaChyLHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSk7aWYodC5vaylyZXR1cm4gdC5hcnJheUJ1ZmZlcigpO3Rocm93IG5ldyBFcnJvcih0LnN0YXR1cysiIDogIit0LnVybCl9fXZhciBhcj1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpLFk9Y29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpLGV0LHB0LGlyPSExLE4sayxkdCxaLEssVCxvcixzcjtmdW5jdGlvbiB1cigpe3ZhciByPXB0LmJ1ZmZlcjtOPW5ldyBJbnQ4QXJyYXkociksZHQ9bmV3IEludDE2QXJyYXkociksYy5IRUFQVTg9az1uZXcgVWludDhBcnJheShyKSxaPW5ldyBVaW50MTZBcnJheShyKSxLPW5ldyBJbnQzMkFycmF5KHIpLFQ9bmV3IFVpbnQzMkFycmF5KHIpLG9yPW5ldyBGbG9hdDMyQXJyYXkociksc3I9bmV3IEZsb2F0NjRBcnJheShyKX1mdW5jdGlvbiBlZSgpe2lmKGMucHJlUnVuKWZvcih0eXBlb2YgYy5wcmVSdW49PSJmdW5jdGlvbiImJihjLnByZVJ1bj1bYy5wcmVSdW5dKTtjLnByZVJ1bi5sZW5ndGg7KXZlKGMucHJlUnVuLnNoaWZ0KCkpO2NyKGZyKX1mdW5jdGlvbiBuZSgpe1AueWEoKX1mdW5jdGlvbiBhZSgpe2lmKGMucG9zdFJ1bilmb3IodHlwZW9mIGMucG9zdFJ1bj09ImZ1bmN0aW9uIiYmKGMucG9zdFJ1bj1bYy5wb3N0UnVuXSk7Yy5wb3N0UnVuLmxlbmd0aDspZGUoYy5wb3N0UnVuLnNoaWZ0KCkpO2NyKGxyKX12YXIgRz0wLG50PW51bGw7ZnVuY3Rpb24gaWUocil7dmFyIHQ7RysrLCh0PWMubW9uaXRvclJ1bkRlcGVuZGVuY2llcyk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmNhbGwoYyxHKX1mdW5jdGlvbiBvZShyKXt2YXIgdDtpZihHLS0sKHQ9Yy5tb25pdG9yUnVuRGVwZW5kZW5jaWVzKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChjLEcpLEc9PTAmJm50KXt2YXIgZT1udDtudD1udWxsLGUoKX19ZnVuY3Rpb24gRHQocil7dmFyIHQ7KHQ9Yy5vbkFib3J0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChjLHIpLHI9IkFib3J0ZWQoIityKyIpIixZKHIpLGlyPSEwLHIrPSIuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uIjt2YXIgZT1uZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKHIpO3Rocm93IE8oZSksZX12YXIgdnQ7ZnVuY3Rpb24gc2UoKXtyZXR1cm4gcmUoInp4aW5nX3JlYWRlci53YXNtIil9ZnVuY3Rpb24gdWUocil7aWYocj09dnQmJmV0KXJldHVybiBuZXcgVWludDhBcnJheShldCk7aWYoTXQpcmV0dXJuIE10KHIpO3Rocm93ImJvdGggYXN5bmMgYW5kIHN5bmMgZmV0Y2hpbmcgb2YgdGhlIHdhc20gZmFpbGVkIn1hc3luYyBmdW5jdGlvbiBjZShyKXtpZighZXQpdHJ5e3ZhciB0PWF3YWl0IG5yKHIpO3JldHVybiBuZXcgVWludDhBcnJheSh0KX1jYXRjaHt9cmV0dXJuIHVlKHIpfWFzeW5jIGZ1bmN0aW9uIGxlKHIsdCl7dHJ5e3ZhciBlPWF3YWl0IGNlKHIpLG49YXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZSx0KTtyZXR1cm4gbn1jYXRjaChhKXtZKGBmYWlsZWQgdG8gYXN5bmNocm9ub3VzbHkgcHJlcGFyZSB3YXNtOiAke2F9YCksRHQoYSl9fWFzeW5jIGZ1bmN0aW9uIGZlKHIsdCxlKXtpZighciYmdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nPT0iZnVuY3Rpb24iKXRyeXt2YXIgbj1mZXRjaCh0LHtjcmVkZW50aWFsczoic2FtZS1vcmlnaW4ifSksYT1hd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhuLGUpO3JldHVybiBhfWNhdGNoKGkpe1koYHdhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAke2l9YCksWSgiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKX1yZXR1cm4gbGUodCxlKX1mdW5jdGlvbiBoZSgpe3JldHVybnthOkpufX1hc3luYyBmdW5jdGlvbiBwZSgpe2Z1bmN0aW9uIHIoaSxzKXtyZXR1cm4gUD1pLmV4cG9ydHMscHQ9UC54YSx1cigpLGJyPVAuQmEsb2UoKSxQfWllKCk7ZnVuY3Rpb24gdChpKXtyZXR1cm4gcihpLmluc3RhbmNlKX12YXIgZT1oZSgpO2lmKGMuaW5zdGFudGlhdGVXYXNtKXJldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e2MuaW5zdGFudGlhdGVXYXNtKGUsKG8sdSk9PntpKHIobykpfSl9KTt2dCE9bnVsbHx8KHZ0PXNlKCkpO3RyeXt2YXIgbj1hd2FpdCBmZShldCx2dCxlKSxhPXQobik7cmV0dXJuIGF9Y2F0Y2goaSl7cmV0dXJuIE8oaSksUHJvbWlzZS5yZWplY3QoaSl9fXZhciBjcj1yPT57Zm9yKDtyLmxlbmd0aD4wOylyLnNoaWZ0KCkoYyl9LGxyPVtdLGRlPXI9PmxyLnB1c2gociksZnI9W10sdmU9cj0+ZnIucHVzaChyKSxnPXI9PktuKHIpLG09KCk9PnRhKCkseXQ9W10sZ3Q9MCx5ZT1yPT57dmFyIHQ9bmV3IFd0KHIpO3JldHVybiB0LmdldF9jYXVnaHQoKXx8KHQuc2V0X2NhdWdodCghMCksZ3QtLSksdC5zZXRfcmV0aHJvd24oITEpLHl0LnB1c2godCksZWEociksWW4ocil9LEI9MCxnZT0oKT0+e3YoMCwwKTt2YXIgcj15dC5wb3AoKTtyYShyLmV4Y1B0ciksQj0wfTtjbGFzcyBXdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmV4Y1B0cj10LHRoaXMucHRyPXQtMjR9c2V0X3R5cGUodCl7VFt0aGlzLnB0cis0Pj4yXT10fWdldF90eXBlKCl7cmV0dXJuIFRbdGhpcy5wdHIrND4+Ml19c2V0X2Rlc3RydWN0b3IodCl7VFt0aGlzLnB0cis4Pj4yXT10fWdldF9kZXN0cnVjdG9yKCl7cmV0dXJuIFRbdGhpcy5wdHIrOD4+Ml19c2V0X2NhdWdodCh0KXt0PXQ/MTowLE5bdGhpcy5wdHIrMTJdPXR9Z2V0X2NhdWdodCgpe3JldHVybiBOW3RoaXMucHRyKzEyXSE9MH1zZXRfcmV0aHJvd24odCl7dD10PzE6MCxOW3RoaXMucHRyKzEzXT10fWdldF9yZXRocm93bigpe3JldHVybiBOW3RoaXMucHRyKzEzXSE9MH1pbml0KHQsZSl7dGhpcy5zZXRfYWRqdXN0ZWRfcHRyKDApLHRoaXMuc2V0X3R5cGUodCksdGhpcy5zZXRfZGVzdHJ1Y3RvcihlKX1zZXRfYWRqdXN0ZWRfcHRyKHQpe1RbdGhpcy5wdHIrMTY+PjJdPXR9Z2V0X2FkanVzdGVkX3B0cigpe3JldHVybiBUW3RoaXMucHRyKzE2Pj4yXX19dmFyIG10PXI9PlpuKHIpLGt0PXI9Pnt2YXIgdD1CO2lmKCF0KXJldHVybiBtdCgwKSwwO3ZhciBlPW5ldyBXdCh0KTtlLnNldF9hZGp1c3RlZF9wdHIodCk7dmFyIG49ZS5nZXRfdHlwZSgpO2lmKCFuKXJldHVybiBtdCgwKSx0O2Zvcih2YXIgYSBvZiByKXtpZihhPT09MHx8YT09PW4pYnJlYWs7dmFyIGk9ZS5wdHIrMTY7aWYobmEoYSxuLGkpKXJldHVybiBtdChhKSx0fXJldHVybiBtdChuKSx0fSxtZT0oKT0+a3QoW10pLCRlPXI9Pmt0KFtyXSksd2U9KHIsdCk9Pmt0KFtyLHRdKSxiZT0oKT0+e3ZhciByPXl0LnBvcCgpO3J8fER0KCJubyBleGNlcHRpb24gdG8gdGhyb3ciKTt2YXIgdD1yLmV4Y1B0cjt0aHJvdyByLmdldF9yZXRocm93bigpfHwoeXQucHVzaChyKSxyLnNldF9yZXRocm93bighMCksci5zZXRfY2F1Z2h0KCExKSxndCsrKSxCPXQsQn0sQ2U9KHIsdCxlKT0+e3ZhciBuPW5ldyBXdChyKTt0aHJvdyBuLmluaXQodCxlKSxCPXIsZ3QrKyxCfSxUZT0oKT0+Z3QsUGU9cj0+e3Rocm93IEJ8fChCPXIpLEJ9LF9lPSgpPT5EdCgiIiksJHQ9e30sTHQ9cj0+e2Zvcig7ci5sZW5ndGg7KXt2YXIgdD1yLnBvcCgpLGU9ci5wb3AoKTtlKHQpfX07ZnVuY3Rpb24gYXQocil7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKFRbcj4+Ml0pfXZhciB0dD17fSxxPXt9LHd0PXt9LEFlPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3Iocil7c3VwZXIociksdGhpcy5uYW1lPSJJbnRlcm5hbEVycm9yIn19LGJ0PXI9Pnt0aHJvdyBuZXcgQWUocil9LFE9KHIsdCxlKT0+e3IuZm9yRWFjaChvPT53dFtvXT10KTtmdW5jdGlvbiBuKG8pe3ZhciB1PWUobyk7dS5sZW5ndGghPT1yLmxlbmd0aCYmYnQoIk1pc21hdGNoZWQgdHlwZSBjb252ZXJ0ZXIgY291bnQiKTtmb3IodmFyIGw9MDtsPHIubGVuZ3RoOysrbClVKHJbbF0sdVtsXSl9dmFyIGE9bmV3IEFycmF5KHQubGVuZ3RoKSxpPVtdLHM9MDt0LmZvckVhY2goKG8sdSk9PntxLmhhc093blByb3BlcnR5KG8pP2FbdV09cVtvXTooaS5wdXNoKG8pLHR0Lmhhc093blByb3BlcnR5KG8pfHwodHRbb109W10pLHR0W29dLnB1c2goKCk9PnthW3VdPXFbb10sKytzLHM9PT1pLmxlbmd0aCYmbihhKX0pKX0pLGkubGVuZ3RoPT09MCYmbihhKX0sT2U9cj0+e3ZhciB0PSR0W3JdO2RlbGV0ZSAkdFtyXTt2YXIgZT10LnJhd0NvbnN0cnVjdG9yLG49dC5yYXdEZXN0cnVjdG9yLGE9dC5maWVsZHMsaT1hLm1hcChzPT5zLmdldHRlclJldHVyblR5cGUpLmNvbmNhdChhLm1hcChzPT5zLnNldHRlckFyZ3VtZW50VHlwZSkpO1EoW3JdLGkscz0+e3ZhciBvPXt9O3JldHVybiBhLmZvckVhY2goKHUsbCk9Pnt2YXIgZj11LmZpZWxkTmFtZSxkPXNbbF0sdz1zW2xdLm9wdGlvbmFsLGI9dS5nZXR0ZXIsXz11LmdldHRlckNvbnRleHQseD1zW2wrYS5sZW5ndGhdLFM9dS5zZXR0ZXIsST11LnNldHRlckNvbnRleHQ7b1tmXT17cmVhZDpWPT5kLmZyb21XaXJlVHlwZShiKF8sVikpLHdyaXRlOihWLFIpPT57dmFyIFc9W107UyhJLFYseC50b1dpcmVUeXBlKFcsUikpLEx0KFcpfSxvcHRpb25hbDp3fX0pLFt7bmFtZTp0Lm5hbWUsZnJvbVdpcmVUeXBlOnU9Pnt2YXIgbD17fTtmb3IodmFyIGYgaW4gbylsW2ZdPW9bZl0ucmVhZCh1KTtyZXR1cm4gbih1KSxsfSx0b1dpcmVUeXBlOih1LGwpPT57Zm9yKHZhciBmIGluIG8paWYoIShmIGluIGwpJiYhb1tmXS5vcHRpb25hbCl0aHJvdyBuZXcgVHlwZUVycm9yKGBNaXNzaW5nIGZpZWxkOiAiJHtmfSJgKTt2YXIgZD1lKCk7Zm9yKGYgaW4gbylvW2ZdLndyaXRlKGQsbFtmXSk7cmV0dXJuIHUhPT1udWxsJiZ1LnB1c2gobixkKSxkfSxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmF0LGRlc3RydWN0b3JGdW5jdGlvbjpufV19KX0sU2U9KHIsdCxlLG4sYSk9Pnt9LHhlPSgpPT57Zm9yKHZhciByPW5ldyBBcnJheSgyNTYpLHQ9MDt0PDI1NjsrK3Qpclt0XT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpO2hyPXJ9LGhyLEY9cj0+e2Zvcih2YXIgdD0iIixlPXI7a1tlXTspdCs9aHJba1tlKytdXTtyZXR1cm4gdH0saXQ9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihyKXtzdXBlcihyKSx0aGlzLm5hbWU9IkJpbmRpbmdFcnJvciJ9fSxDPXI9Pnt0aHJvdyBuZXcgaXQocil9O2Z1bmN0aW9uIEVlKHIsdCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT12b2lkIDA/YXJndW1lbnRzWzJdOnt9O3ZhciBuPXQubmFtZTtpZihyfHxDKGB0eXBlICIke259IiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyYCkscS5oYXNPd25Qcm9wZXJ0eShyKSl7aWYoZS5pZ25vcmVEdXBsaWNhdGVSZWdpc3RyYXRpb25zKXJldHVybjtDKGBDYW5ub3QgcmVnaXN0ZXIgdHlwZSAnJHtufScgdHdpY2VgKX1pZihxW3JdPXQsZGVsZXRlIHd0W3JdLHR0Lmhhc093blByb3BlcnR5KHIpKXt2YXIgYT10dFtyXTtkZWxldGUgdHRbcl0sYS5mb3JFYWNoKGk9PmkoKSl9fWZ1bmN0aW9uIFUocix0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06e307cmV0dXJuIEVlKHIsdCxlKX12YXIgSD04LEllPShyLHQsZSxuKT0+e3Q9Rih0KSxVKHIse25hbWU6dCxmcm9tV2lyZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuISFhfSx0b1dpcmVUeXBlOmZ1bmN0aW9uKGEsaSl7cmV0dXJuIGk/ZTpufSxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZyb21XaXJlVHlwZShrW2FdKX0sZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0samU9cj0+KHtjb3VudDpyLmNvdW50LGRlbGV0ZVNjaGVkdWxlZDpyLmRlbGV0ZVNjaGVkdWxlZCxwcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZTpyLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlLHB0cjpyLnB0cixwdHJUeXBlOnIucHRyVHlwZSxzbWFydFB0cjpyLnNtYXJ0UHRyLHNtYXJ0UHRyVHlwZTpyLnNtYXJ0UHRyVHlwZX0pLFV0PXI9PntmdW5jdGlvbiB0KGUpe3JldHVybiBlLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLm5hbWV9Qyh0KHIpKyIgaW5zdGFuY2UgYWxyZWFkeSBkZWxldGVkIil9LEJ0PSExLHByPXI9Pnt9LEZlPXI9PntyLnNtYXJ0UHRyP3Iuc21hcnRQdHJUeXBlLnJhd0Rlc3RydWN0b3Ioci5zbWFydFB0cik6ci5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcy5yYXdEZXN0cnVjdG9yKHIucHRyKX0sZHI9cj0+e3IuY291bnQudmFsdWUtPTE7dmFyIHQ9ci5jb3VudC52YWx1ZT09PTA7dCYmRmUocil9LG90PXI9PnR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeT4idSI/KG90PXQ9PnQscik6KEJ0PW5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSh0PT57ZHIodC4kJCl9KSxvdD10PT57dmFyIGU9dC4kJCxuPSEhZS5zbWFydFB0cjtpZihuKXt2YXIgYT17JCQ6ZX07QnQucmVnaXN0ZXIodCxhLHQpfXJldHVybiB0fSxwcj10PT5CdC51bnJlZ2lzdGVyKHQpLG90KHIpKSxSZT0oKT0+e2xldCByPUN0LnByb3RvdHlwZTtPYmplY3QuYXNzaWduKHIse2lzQWxpYXNPZihlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBDdCl8fCEoZSBpbnN0YW5jZW9mIEN0KSlyZXR1cm4hMTt2YXIgbj10aGlzLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLGE9dGhpcy4kJC5wdHI7ZS4kJD1lLiQkO2Zvcih2YXIgaT1lLiQkLnB0clR5cGUucmVnaXN0ZXJlZENsYXNzLHM9ZS4kJC5wdHI7bi5iYXNlQ2xhc3M7KWE9bi51cGNhc3QoYSksbj1uLmJhc2VDbGFzcztmb3IoO2kuYmFzZUNsYXNzOylzPWkudXBjYXN0KHMpLGk9aS5iYXNlQ2xhc3M7cmV0dXJuIG49PT1pJiZhPT09c30sY2xvbmUoKXtpZih0aGlzLiQkLnB0cnx8VXQodGhpcyksdGhpcy4kJC5wcmVzZXJ2ZVBvaW50ZXJPbkRlbGV0ZSlyZXR1cm4gdGhpcy4kJC5jb3VudC52YWx1ZSs9MSx0aGlzO3ZhciBlPW90KE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLHskJDp7dmFsdWU6amUodGhpcy4kJCl9fSkpO3JldHVybiBlLiQkLmNvdW50LnZhbHVlKz0xLGUuJCQuZGVsZXRlU2NoZWR1bGVkPSExLGV9LGRlbGV0ZSgpe3RoaXMuJCQucHRyfHxVdCh0aGlzKSx0aGlzLiQkLmRlbGV0ZVNjaGVkdWxlZCYmIXRoaXMuJCQucHJlc2VydmVQb2ludGVyT25EZWxldGUmJkMoIk9iamVjdCBhbHJlYWR5IHNjaGVkdWxlZCBmb3IgZGVsZXRpb24iKSxwcih0aGlzKSxkcih0aGlzLiQkKSx0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlfHwodGhpcy4kJC5zbWFydFB0cj12b2lkIDAsdGhpcy4kJC5wdHI9dm9pZCAwKX0saXNEZWxldGVkKCl7cmV0dXJuIXRoaXMuJCQucHRyfSxkZWxldGVMYXRlcigpe3JldHVybiB0aGlzLiQkLnB0cnx8VXQodGhpcyksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQmJiF0aGlzLiQkLnByZXNlcnZlUG9pbnRlck9uRGVsZXRlJiZDKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIiksdGhpcy4kJC5kZWxldGVTY2hlZHVsZWQ9ITAsdGhpc319KTtjb25zdCB0PVN5bWJvbC5kaXNwb3NlO3QmJihyW3RdPXIuZGVsZXRlKX07ZnVuY3Rpb24gQ3QoKXt9dmFyIEh0PShyLHQpPT5PYmplY3QuZGVmaW5lUHJvcGVydHkodCwibmFtZSIse3ZhbHVlOnJ9KSx2cj17fSx5cj0ocix0LGUpPT57aWYoclt0XS5vdmVybG9hZFRhYmxlPT09dm9pZCAwKXt2YXIgbj1yW3RdO3JbdF09ZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShhKSxzPTA7czxhO3MrKylpW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gclt0XS5vdmVybG9hZFRhYmxlLmhhc093blByb3BlcnR5KGkubGVuZ3RoKXx8QyhgRnVuY3Rpb24gJyR7ZX0nIGNhbGxlZCB3aXRoIGFuIGludmFsaWQgbnVtYmVyIG9mIGFyZ3VtZW50cyAoJHtpLmxlbmd0aH0pIC0gZXhwZWN0cyBvbmUgb2YgKCR7clt0XS5vdmVybG9hZFRhYmxlfSkhYCksclt0XS5vdmVybG9hZFRhYmxlW2kubGVuZ3RoXS5hcHBseSh0aGlzLGkpfSxyW3RdLm92ZXJsb2FkVGFibGU9W10sclt0XS5vdmVybG9hZFRhYmxlW24uYXJnQ291bnRdPW59fSxncj0ocix0LGUpPT57Yy5oYXNPd25Qcm9wZXJ0eShyKT8oKGU9PT12b2lkIDB8fGNbcl0ub3ZlcmxvYWRUYWJsZSE9PXZvaWQgMCYmY1tyXS5vdmVybG9hZFRhYmxlW2VdIT09dm9pZCAwKSYmQyhgQ2Fubm90IHJlZ2lzdGVyIHB1YmxpYyBuYW1lICcke3J9JyB0d2ljZWApLHlyKGMscixyKSxjW3JdLm92ZXJsb2FkVGFibGUuaGFzT3duUHJvcGVydHkoZSkmJkMoYENhbm5vdCByZWdpc3RlciBtdWx0aXBsZSBvdmVybG9hZHMgb2YgYSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBhcmd1bWVudHMgKCR7ZX0pIWApLGNbcl0ub3ZlcmxvYWRUYWJsZVtlXT10KTooY1tyXT10LGNbcl0uYXJnQ291bnQ9ZSl9LE1lPTQ4LERlPTU3LFdlPXI9PntyPXIucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLCIkIik7dmFyIHQ9ci5jaGFyQ29kZUF0KDApO3JldHVybiB0Pj1NZSYmdDw9RGU/YF8ke3J9YDpyfTtmdW5jdGlvbiBrZShyLHQsZSxuLGEsaSxzLG8pe3RoaXMubmFtZT1yLHRoaXMuY29uc3RydWN0b3I9dCx0aGlzLmluc3RhbmNlUHJvdG90eXBlPWUsdGhpcy5yYXdEZXN0cnVjdG9yPW4sdGhpcy5iYXNlQ2xhc3M9YSx0aGlzLmdldEFjdHVhbFR5cGU9aSx0aGlzLnVwY2FzdD1zLHRoaXMuZG93bmNhc3Q9byx0aGlzLnB1cmVWaXJ0dWFsRnVuY3Rpb25zPVtdfXZhciB6dD0ocix0LGUpPT57Zm9yKDt0IT09ZTspdC51cGNhc3R8fEMoYEV4cGVjdGVkIG51bGwgb3IgaW5zdGFuY2Ugb2YgJHtlLm5hbWV9LCBnb3QgYW4gaW5zdGFuY2Ugb2YgJHt0Lm5hbWV9YCkscj10LnVwY2FzdChyKSx0PXQuYmFzZUNsYXNzO3JldHVybiByfSxWdD1yPT57aWYocj09PW51bGwpcmV0dXJuIm51bGwiO3ZhciB0PXR5cGVvZiByO3JldHVybiB0PT09Im9iamVjdCJ8fHQ9PT0iYXJyYXkifHx0PT09ImZ1bmN0aW9uIj9yLnRvU3RyaW5nKCk6IiIrcn07ZnVuY3Rpb24gTGUocix0KXtpZih0PT09bnVsbClyZXR1cm4gdGhpcy5pc1JlZmVyZW5jZSYmQyhgbnVsbCBpcyBub3QgYSB2YWxpZCAke3RoaXMubmFtZX1gKSwwO3QuJCR8fEMoYENhbm5vdCBwYXNzICIke1Z0KHQpfSIgYXMgYSAke3RoaXMubmFtZX1gKSx0LiQkLnB0cnx8QyhgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7dmFyIGU9dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxuPXp0KHQuJCQucHRyLGUsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBufWZ1bmN0aW9uIFVlKHIsdCl7dmFyIGU7aWYodD09PW51bGwpcmV0dXJuIHRoaXMuaXNSZWZlcmVuY2UmJkMoYG51bGwgaXMgbm90IGEgdmFsaWQgJHt0aGlzLm5hbWV9YCksdGhpcy5pc1NtYXJ0UG9pbnRlcj8oZT10aGlzLnJhd0NvbnN0cnVjdG9yKCksciE9PW51bGwmJnIucHVzaCh0aGlzLnJhd0Rlc3RydWN0b3IsZSksZSk6MDsoIXR8fCF0LiQkKSYmQyhgQ2Fubm90IHBhc3MgIiR7VnQodCl9IiBhcyBhICR7dGhpcy5uYW1lfWApLHQuJCQucHRyfHxDKGBDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAke3RoaXMubmFtZX1gKSwhdGhpcy5pc0NvbnN0JiZ0LiQkLnB0clR5cGUuaXNDb25zdCYmQyhgQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSAke3QuJCQuc21hcnRQdHJUeXBlP3QuJCQuc21hcnRQdHJUeXBlLm5hbWU6dC4kJC5wdHJUeXBlLm5hbWV9IHRvIHBhcmFtZXRlciB0eXBlICR7dGhpcy5uYW1lfWApO3ZhciBuPXQuJCQucHRyVHlwZS5yZWdpc3RlcmVkQ2xhc3M7aWYoZT16dCh0LiQkLnB0cixuLHRoaXMucmVnaXN0ZXJlZENsYXNzKSx0aGlzLmlzU21hcnRQb2ludGVyKXN3aXRjaCh0LiQkLnNtYXJ0UHRyPT09dm9pZCAwJiZDKCJQYXNzaW5nIHJhdyBwb2ludGVyIHRvIHNtYXJ0IHBvaW50ZXIgaXMgaWxsZWdhbCIpLHRoaXMuc2hhcmluZ1BvbGljeSl7Y2FzZSAwOnQuJCQuc21hcnRQdHJUeXBlPT09dGhpcz9lPXQuJCQuc21hcnRQdHI6QyhgQ2Fubm90IGNvbnZlcnQgYXJndW1lbnQgb2YgdHlwZSAke3QuJCQuc21hcnRQdHJUeXBlP3QuJCQuc21hcnRQdHJUeXBlLm5hbWU6dC4kJC5wdHJUeXBlLm5hbWV9IHRvIHBhcmFtZXRlciB0eXBlICR7dGhpcy5uYW1lfWApO2JyZWFrO2Nhc2UgMTplPXQuJCQuc21hcnRQdHI7YnJlYWs7Y2FzZSAyOmlmKHQuJCQuc21hcnRQdHJUeXBlPT09dGhpcyllPXQuJCQuc21hcnRQdHI7ZWxzZXt2YXIgYT10LmNsb25lKCk7ZT10aGlzLnJhd1NoYXJlKGUsei50b0hhbmRsZSgoKT0+YS5kZWxldGUoKSkpLHIhPT1udWxsJiZyLnB1c2godGhpcy5yYXdEZXN0cnVjdG9yLGUpfWJyZWFrO2RlZmF1bHQ6QygiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iil9cmV0dXJuIGV9ZnVuY3Rpb24gQmUocix0KXtpZih0PT09bnVsbClyZXR1cm4gdGhpcy5pc1JlZmVyZW5jZSYmQyhgbnVsbCBpcyBub3QgYSB2YWxpZCAke3RoaXMubmFtZX1gKSwwO3QuJCR8fEMoYENhbm5vdCBwYXNzICIke1Z0KHQpfSIgYXMgYSAke3RoaXMubmFtZX1gKSx0LiQkLnB0cnx8QyhgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCksdC4kJC5wdHJUeXBlLmlzQ29uc3QmJkMoYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHt0LiQkLnB0clR5cGUubmFtZX0gdG8gcGFyYW1ldGVyIHR5cGUgJHt0aGlzLm5hbWV9YCk7dmFyIGU9dC4kJC5wdHJUeXBlLnJlZ2lzdGVyZWRDbGFzcyxuPXp0KHQuJCQucHRyLGUsdGhpcy5yZWdpc3RlcmVkQ2xhc3MpO3JldHVybiBufXZhciBtcj0ocix0LGUpPT57aWYodD09PWUpcmV0dXJuIHI7aWYoZS5iYXNlQ2xhc3M9PT12b2lkIDApcmV0dXJuIG51bGw7dmFyIG49bXIocix0LGUuYmFzZUNsYXNzKTtyZXR1cm4gbj09PW51bGw/bnVsbDplLmRvd25jYXN0KG4pfSxIZT17fSx6ZT0ocix0KT0+e2Zvcih0PT09dm9pZCAwJiZDKCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQiKTtyLmJhc2VDbGFzczspdD1yLnVwY2FzdCh0KSxyPXIuYmFzZUNsYXNzO3JldHVybiB0fSxWZT0ocix0KT0+KHQ9emUocix0KSxIZVt0XSksVHQ9KHIsdCk9PnsoIXQucHRyVHlwZXx8IXQucHRyKSYmYnQoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKTt2YXIgZT0hIXQuc21hcnRQdHJUeXBlLG49ISF0LnNtYXJ0UHRyO3JldHVybiBlIT09biYmYnQoIkJvdGggc21hcnRQdHJUeXBlIGFuZCBzbWFydFB0ciBtdXN0IGJlIHNwZWNpZmllZCIpLHQuY291bnQ9e3ZhbHVlOjF9LG90KE9iamVjdC5jcmVhdGUocix7JCQ6e3ZhbHVlOnQsd3JpdGFibGU6ITB9fSkpfTtmdW5jdGlvbiBOZShyKXt2YXIgdD10aGlzLmdldFBvaW50ZWUocik7aWYoIXQpcmV0dXJuIHRoaXMuZGVzdHJ1Y3RvcihyKSxudWxsO3ZhciBlPVZlKHRoaXMucmVnaXN0ZXJlZENsYXNzLHQpO2lmKGUhPT12b2lkIDApe2lmKGUuJCQuY291bnQudmFsdWU9PT0wKXJldHVybiBlLiQkLnB0cj10LGUuJCQuc21hcnRQdHI9cixlLmNsb25lKCk7dmFyIG49ZS5jbG9uZSgpO3JldHVybiB0aGlzLmRlc3RydWN0b3Iociksbn1mdW5jdGlvbiBhKCl7cmV0dXJuIHRoaXMuaXNTbWFydFBvaW50ZXI/VHQodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcy5wb2ludGVlVHlwZSxwdHI6dCxzbWFydFB0clR5cGU6dGhpcyxzbWFydFB0cjpyfSk6VHQodGhpcy5yZWdpc3RlcmVkQ2xhc3MuaW5zdGFuY2VQcm90b3R5cGUse3B0clR5cGU6dGhpcyxwdHI6cn0pfXZhciBpPXRoaXMucmVnaXN0ZXJlZENsYXNzLmdldEFjdHVhbFR5cGUodCkscz12cltpXTtpZighcylyZXR1cm4gYS5jYWxsKHRoaXMpO3ZhciBvO3RoaXMuaXNDb25zdD9vPXMuY29uc3RQb2ludGVyVHlwZTpvPXMucG9pbnRlclR5cGU7dmFyIHU9bXIodCx0aGlzLnJlZ2lzdGVyZWRDbGFzcyxvLnJlZ2lzdGVyZWRDbGFzcyk7cmV0dXJuIHU9PT1udWxsP2EuY2FsbCh0aGlzKTp0aGlzLmlzU21hcnRQb2ludGVyP1R0KG8ucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOm8scHRyOnUsc21hcnRQdHJUeXBlOnRoaXMsc21hcnRQdHI6cn0pOlR0KG8ucmVnaXN0ZXJlZENsYXNzLmluc3RhbmNlUHJvdG90eXBlLHtwdHJUeXBlOm8scHRyOnV9KX12YXIgR2U9KCk9PntPYmplY3QuYXNzaWduKFB0LnByb3RvdHlwZSx7Z2V0UG9pbnRlZShyKXtyZXR1cm4gdGhpcy5yYXdHZXRQb2ludGVlJiYocj10aGlzLnJhd0dldFBvaW50ZWUocikpLHJ9LGRlc3RydWN0b3Iocil7dmFyIHQ7KHQ9dGhpcy5yYXdEZXN0cnVjdG9yKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbCh0aGlzLHIpfSxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmF0LGZyb21XaXJlVHlwZTpOZX0pfTtmdW5jdGlvbiBQdChyLHQsZSxuLGEsaSxzLG8sdSxsLGYpe3RoaXMubmFtZT1yLHRoaXMucmVnaXN0ZXJlZENsYXNzPXQsdGhpcy5pc1JlZmVyZW5jZT1lLHRoaXMuaXNDb25zdD1uLHRoaXMuaXNTbWFydFBvaW50ZXI9YSx0aGlzLnBvaW50ZWVUeXBlPWksdGhpcy5zaGFyaW5nUG9saWN5PXMsdGhpcy5yYXdHZXRQb2ludGVlPW8sdGhpcy5yYXdDb25zdHJ1Y3Rvcj11LHRoaXMucmF3U2hhcmU9bCx0aGlzLnJhd0Rlc3RydWN0b3I9ZiwhYSYmdC5iYXNlQ2xhc3M9PT12b2lkIDA/bj8odGhpcy50b1dpcmVUeXBlPUxlLHRoaXMuZGVzdHJ1Y3RvckZ1bmN0aW9uPW51bGwpOih0aGlzLnRvV2lyZVR5cGU9QmUsdGhpcy5kZXN0cnVjdG9yRnVuY3Rpb249bnVsbCk6dGhpcy50b1dpcmVUeXBlPVVlfXZhciAkcj0ocix0LGUpPT57Yy5oYXNPd25Qcm9wZXJ0eShyKXx8YnQoIlJlcGxhY2luZyBub25leGlzdGVudCBwdWJsaWMgc3ltYm9sIiksY1tyXS5vdmVybG9hZFRhYmxlIT09dm9pZCAwJiZlIT09dm9pZCAwP2Nbcl0ub3ZlcmxvYWRUYWJsZVtlXT10OihjW3JdPXQsY1tyXS5hcmdDb3VudD1lKX0sd3I9W10sYnIsJD1yPT57dmFyIHQ9d3Jbcl07cmV0dXJuIHR8fCh3cltyXT10PWJyLmdldChyKSksdH0scWU9ZnVuY3Rpb24ocix0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06W107aWYoci5pbmNsdWRlcygiaiIpKXJldHVybiBkeW5DYWxsTGVnYWN5KHIsdCxlKTt2YXIgbj0kKHQpLGE9biguLi5lKTtyZXR1cm4gYX0sUWU9ZnVuY3Rpb24ocix0KXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXZvaWQgMD9hcmd1bWVudHNbMl06ITE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkobiksaT0wO2k8bjtpKyspYVtpXT1hcmd1bWVudHNbaV07cmV0dXJuIHFlKHIsdCxhLGUpfX0sTD1mdW5jdGlvbihyLHQpe3I9RihyKTtmdW5jdGlvbiBlKCl7aWYoci5pbmNsdWRlcygiaiIpKXJldHVybiBRZShyLHQpO3ZhciBhPSQodCk7cmV0dXJuIGF9dmFyIG49ZSgpO3JldHVybiB0eXBlb2YgbiE9ImZ1bmN0aW9uIiYmQyhgdW5rbm93biBmdW5jdGlvbiBwb2ludGVyIHdpdGggc2lnbmF0dXJlICR7cn06ICR7dH1gKSxufTtjbGFzcyBKZSBleHRlbmRzIEVycm9ye312YXIgQ3I9cj0+e3ZhciB0PVhuKHIpLGU9Rih0KTtyZXR1cm4gWCh0KSxlfSxfdD0ocix0KT0+e3ZhciBlPVtdLG49e307ZnVuY3Rpb24gYShpKXtpZighbltpXSYmIXFbaV0pe2lmKHd0W2ldKXt3dFtpXS5mb3JFYWNoKGEpO3JldHVybn1lLnB1c2goaSksbltpXT0hMH19dGhyb3cgdC5mb3JFYWNoKGEpLG5ldyBKZShgJHtyfTogYCtlLm1hcChDcikuam9pbihbIiwgIl0pKX0sWGU9KHIsdCxlLG4sYSxpLHMsbyx1LGwsZixkLHcpPT57Zj1GKGYpLGk9TChhLGkpLG8mJihvPUwocyxvKSksbCYmKGw9TCh1LGwpKSx3PUwoZCx3KTt2YXIgYj1XZShmKTtncihiLGZ1bmN0aW9uKCl7X3QoYENhbm5vdCBjb25zdHJ1Y3QgJHtmfSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsW25dKX0pLFEoW3IsdCxlXSxuP1tuXTpbXSxfPT57Xz1fWzBdO3ZhciB4LFM7bj8oeD1fLnJlZ2lzdGVyZWRDbGFzcyxTPXguaW5zdGFuY2VQcm90b3R5cGUpOlM9Q3QucHJvdG90eXBlO3ZhciBJPUh0KGYsZnVuY3Rpb24oKXtpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykhPT1WKXRocm93IG5ldyBpdChgVXNlICduZXcnIHRvIGNvbnN0cnVjdCAke2Z9YCk7aWYoUi5jb25zdHJ1Y3Rvcl9ib2R5PT09dm9pZCAwKXRocm93IG5ldyBpdChgJHtmfSBoYXMgbm8gYWNjZXNzaWJsZSBjb25zdHJ1Y3RvcmApO2Zvcih2YXIgTXI9YXJndW1lbnRzLmxlbmd0aCxPdD1uZXcgQXJyYXkoTXIpLFN0PTA7U3Q8TXI7U3QrKylPdFtTdF09YXJndW1lbnRzW1N0XTt2YXIgRHI9Ui5jb25zdHJ1Y3Rvcl9ib2R5W090Lmxlbmd0aF07aWYoRHI9PT12b2lkIDApdGhyb3cgbmV3IGl0KGBUcmllZCB0byBpbnZva2UgY3RvciBvZiAke2Z9IHdpdGggaW52YWxpZCBudW1iZXIgb2YgcGFyYW1ldGVycyAoJHtPdC5sZW5ndGh9KSAtIGV4cGVjdGVkICgke09iamVjdC5rZXlzKFIuY29uc3RydWN0b3JfYm9keSkudG9TdHJpbmcoKX0pIHBhcmFtZXRlcnMgaW5zdGVhZCFgKTtyZXR1cm4gRHIuYXBwbHkodGhpcyxPdCl9KSxWPU9iamVjdC5jcmVhdGUoUyx7Y29uc3RydWN0b3I6e3ZhbHVlOkl9fSk7SS5wcm90b3R5cGU9Vjt2YXIgUj1uZXcga2UoZixJLFYsdyx4LGksbyxsKTtpZihSLmJhc2VDbGFzcyl7dmFyIFcsQXQ7KEF0PShXPVIuYmFzZUNsYXNzKS5fX2Rlcml2ZWRDbGFzc2VzKSE9PW51bGwmJkF0IT09dm9pZCAwfHwoVy5fX2Rlcml2ZWRDbGFzc2VzPVtdKSxSLmJhc2VDbGFzcy5fX2Rlcml2ZWRDbGFzc2VzLnB1c2goUil9dmFyIEhhPW5ldyBQdChmLFIsITAsITEsITEpLEZyPW5ldyBQdChmKyIqIixSLCExLCExLCExKSxScj1uZXcgUHQoZisiIGNvbnN0KiIsUiwhMSwhMCwhMSk7cmV0dXJuIHZyW3JdPXtwb2ludGVyVHlwZTpGcixjb25zdFBvaW50ZXJUeXBlOlJyfSwkcihiLEkpLFtIYSxGcixScl19KX0sTnQ9KHIsdCk9Pntmb3IodmFyIGU9W10sbj0wO248cjtuKyspZS5wdXNoKFRbdCtuKjQ+PjJdKTtyZXR1cm4gZX07ZnVuY3Rpb24gWWUocil7Zm9yKHZhciB0PTE7dDxyLmxlbmd0aDsrK3QpaWYoclt0XSE9PW51bGwmJnJbdF0uZGVzdHJ1Y3RvckZ1bmN0aW9uPT09dm9pZCAwKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEd0KHIsdCxlLG4sYSxpKXt2YXIgcz10Lmxlbmd0aDtzPDImJkMoImFyZ1R5cGVzIGFycmF5IHNpemUgbWlzbWF0Y2ghIE11c3QgYXQgbGVhc3QgZ2V0IHJldHVybiB2YWx1ZSBhbmQgJ3RoaXMnIHR5cGVzISIpO3ZhciBvPXRbMV0hPT1udWxsJiZlIT09bnVsbCx1PVllKHQpLGw9dFswXS5uYW1lIT09InZvaWQiLGY9cy0yLGQ9bmV3IEFycmF5KGYpLHc9W10sYj1bXSxfPWZ1bmN0aW9uKCl7Yi5sZW5ndGg9MDt2YXIgeDt3Lmxlbmd0aD1vPzI6MSx3WzBdPWEsbyYmKHg9dFsxXS50b1dpcmVUeXBlKGIsdGhpcyksd1sxXT14KTtmb3IodmFyIFM9MDtTPGY7KytTKWRbU109dFtTKzJdLnRvV2lyZVR5cGUoYixTPDB8fGFyZ3VtZW50cy5sZW5ndGg8PVM/dm9pZCAwOmFyZ3VtZW50c1tTXSksdy5wdXNoKGRbU10pO3ZhciBJPW4oLi4udyk7ZnVuY3Rpb24gVihSKXtpZih1KUx0KGIpO2Vsc2UgZm9yKHZhciBXPW8/MToyO1c8dC5sZW5ndGg7VysrKXt2YXIgQXQ9Vz09PTE/eDpkW1ctMl07dFtXXS5kZXN0cnVjdG9yRnVuY3Rpb24hPT1udWxsJiZ0W1ddLmRlc3RydWN0b3JGdW5jdGlvbihBdCl9aWYobClyZXR1cm4gdFswXS5mcm9tV2lyZVR5cGUoUil9cmV0dXJuIFYoSSl9O3JldHVybiBIdChyLF8pfXZhciBaZT0ocix0LGUsbixhLGkpPT57dmFyIHM9TnQodCxlKTthPUwobixhKSxRKFtdLFtyXSxvPT57bz1vWzBdO3ZhciB1PWBjb25zdHJ1Y3RvciAke28ubmFtZX1gO2lmKG8ucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHk9PT12b2lkIDAmJihvLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5PVtdKSxvLnJlZ2lzdGVyZWRDbGFzcy5jb25zdHJ1Y3Rvcl9ib2R5W3QtMV0hPT12b2lkIDApdGhyb3cgbmV3IGl0KGBDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke3QtMX0pIGZvciBjbGFzcyAnJHtvLm5hbWV9JyEgT3ZlcmxvYWQgcmVzb2x1dGlvbiBpcyBjdXJyZW50bHkgb25seSBwZXJmb3JtZWQgdXNpbmcgdGhlIHBhcmFtZXRlciBjb3VudCwgbm90IGFjdHVhbCB0eXBlIGluZm8hYCk7cmV0dXJuIG8ucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXT0oKT0+e190KGBDYW5ub3QgY29uc3RydWN0ICR7by5uYW1lfSBkdWUgdG8gdW5ib3VuZCB0eXBlc2Ascyl9LFEoW10scyxsPT4obC5zcGxpY2UoMSwwLG51bGwpLG8ucmVnaXN0ZXJlZENsYXNzLmNvbnN0cnVjdG9yX2JvZHlbdC0xXT1HdCh1LGwsbnVsbCxhLGkpLFtdKSksW119KX0sVHI9cj0+e3I9ci50cmltKCk7Y29uc3QgdD1yLmluZGV4T2YoIigiKTtyZXR1cm4gdD09PS0xP3I6ci5zbGljZSgwLHQpfSxLZT0ocix0LGUsbixhLGkscyxvLHUsbCk9Pnt2YXIgZj1OdChlLG4pO3Q9Rih0KSx0PVRyKHQpLGk9TChhLGkpLFEoW10sW3JdLGQ9PntkPWRbMF07dmFyIHc9YCR7ZC5uYW1lfS4ke3R9YDt0LnN0YXJ0c1dpdGgoIkBAIikmJih0PVN5bWJvbFt0LnN1YnN0cmluZygyKV0pLG8mJmQucmVnaXN0ZXJlZENsYXNzLnB1cmVWaXJ0dWFsRnVuY3Rpb25zLnB1c2godCk7ZnVuY3Rpb24gYigpe190KGBDYW5ub3QgY2FsbCAke3d9IGR1ZSB0byB1bmJvdW5kIHR5cGVzYCxmKX12YXIgXz1kLnJlZ2lzdGVyZWRDbGFzcy5pbnN0YW5jZVByb3RvdHlwZSx4PV9bdF07cmV0dXJuIHg9PT12b2lkIDB8fHgub3ZlcmxvYWRUYWJsZT09PXZvaWQgMCYmeC5jbGFzc05hbWUhPT1kLm5hbWUmJnguYXJnQ291bnQ9PT1lLTI/KGIuYXJnQ291bnQ9ZS0yLGIuY2xhc3NOYW1lPWQubmFtZSxfW3RdPWIpOih5cihfLHQsdyksX1t0XS5vdmVybG9hZFRhYmxlW2UtMl09YiksUShbXSxmLFM9Pnt2YXIgST1HdCh3LFMsZCxpLHMpO3JldHVybiBfW3RdLm92ZXJsb2FkVGFibGU9PT12b2lkIDA/KEkuYXJnQ291bnQ9ZS0yLF9bdF09SSk6X1t0XS5vdmVybG9hZFRhYmxlW2UtMl09SSxbXX0pLFtdfSl9LFByPVtdLEo9WzAsMSwsMSxudWxsLDEsITAsMSwhMSwxXSxxdD1yPT57cj45JiYtLUpbcisxXT09PTAmJihKW3JdPXZvaWQgMCxQci5wdXNoKHIpKX0sej17dG9WYWx1ZTpyPT4ocnx8QyhgQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gJHtyfWApLEpbcl0pLHRvSGFuZGxlOnI9Pntzd2l0Y2gocil7Y2FzZSB2b2lkIDA6cmV0dXJuIDI7Y2FzZSBudWxsOnJldHVybiA0O2Nhc2UhMDpyZXR1cm4gNjtjYXNlITE6cmV0dXJuIDg7ZGVmYXVsdDp7Y29uc3QgdD1Qci5wb3AoKXx8Si5sZW5ndGg7cmV0dXJuIEpbdF09cixKW3QrMV09MSx0fX19fSxfcj17bmFtZToiZW1zY3JpcHRlbjo6dmFsIixmcm9tV2lyZVR5cGU6cj0+e3ZhciB0PXoudG9WYWx1ZShyKTtyZXR1cm4gcXQociksdH0sdG9XaXJlVHlwZToocix0KT0+ei50b0hhbmRsZSh0KSxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmF0LGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSx0bj1yPT5VKHIsX3IpLHJuPShyLHQpPT57c3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKG9yW2U+PjJdKX07Y2FzZSA4OnJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoc3JbZT4+M10pfTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgZmxvYXQgd2lkdGggKCR7dH0pOiAke3J9YCl9fSxlbj0ocix0LGUpPT57dD1GKHQpLFUocix7bmFtZTp0LGZyb21XaXJlVHlwZTpuPT5uLHRvV2lyZVR5cGU6KG4sYSk9PmEsYXJnUGFja0FkdmFuY2U6SCxyZWFkVmFsdWVGcm9tUG9pbnRlcjpybih0LGUpLGRlc3RydWN0b3JGdW5jdGlvbjpudWxsfSl9LG5uPShyLHQsZSxuLGEsaSxzLG8pPT57dmFyIHU9TnQodCxlKTtyPUYocikscj1UcihyKSxhPUwobixhKSxncihyLGZ1bmN0aW9uKCl7X3QoYENhbm5vdCBjYWxsICR7cn0gZHVlIHRvIHVuYm91bmQgdHlwZXNgLHUpfSx0LTEpLFEoW10sdSxsPT57dmFyIGY9W2xbMF0sbnVsbF0uY29uY2F0KGwuc2xpY2UoMSkpO3JldHVybiAkcihyLEd0KHIsZixudWxsLGEsaSksdC0xKSxbXX0pfSxhbj0ocix0LGUpPT57c3dpdGNoKHQpe2Nhc2UgMTpyZXR1cm4gZT9uPT5OW25dOm49Pmtbbl07Y2FzZSAyOnJldHVybiBlP249PmR0W24+PjFdOm49Plpbbj4+MV07Y2FzZSA0OnJldHVybiBlP249Pktbbj4+Ml06bj0+VFtuPj4yXTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgaW50ZWdlciB3aWR0aCAoJHt0fSk6ICR7cn1gKX19LG9uPShyLHQsZSxuLGEpPT57dD1GKHQpO2NvbnN0IGk9bj09PTA7bGV0IHM9dT0+dTtpZihpKXt2YXIgbz0zMi04KmU7cz11PT51PDxvPj4+byxhPXMoYSl9VShyLHtuYW1lOnQsZnJvbVdpcmVUeXBlOnMsdG9XaXJlVHlwZToodSxsKT0+bCxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmFuKHQsZSxuIT09MCksZGVzdHJ1Y3RvckZ1bmN0aW9uOm51bGx9KX0sc249KHIsdCxlKT0+e3ZhciBuPVtJbnQ4QXJyYXksVWludDhBcnJheSxJbnQxNkFycmF5LFVpbnQxNkFycmF5LEludDMyQXJyYXksVWludDMyQXJyYXksRmxvYXQzMkFycmF5LEZsb2F0NjRBcnJheV0sYT1uW3RdO2Z1bmN0aW9uIGkocyl7dmFyIG89VFtzPj4yXSx1PVRbcys0Pj4yXTtyZXR1cm4gbmV3IGEoTi5idWZmZXIsdSxvKX1lPUYoZSksVShyLHtuYW1lOmUsZnJvbVdpcmVUeXBlOmksYXJnUGFja0FkdmFuY2U6SCxyZWFkVmFsdWVGcm9tUG9pbnRlcjppfSx7aWdub3JlRHVwbGljYXRlUmVnaXN0cmF0aW9uczohMH0pfSx1bj1PYmplY3QuYXNzaWduKHtvcHRpb25hbDohMH0sX3IpLGNuPShyLHQpPT57VShyLHVuKX0sbG49KHIsdCxlLG4pPT57aWYoIShuPjApKXJldHVybiAwO2Zvcih2YXIgYT1lLGk9ZStuLTEscz0wO3M8ci5sZW5ndGg7KytzKXt2YXIgbz1yLmNoYXJDb2RlQXQocyk7aWYobz49NTUyOTYmJm88PTU3MzQzKXt2YXIgdT1yLmNoYXJDb2RlQXQoKytzKTtvPTY1NTM2KygobyYxMDIzKTw8MTApfHUmMTAyM31pZihvPD0xMjcpe2lmKGU+PWkpYnJlYWs7dFtlKytdPW99ZWxzZSBpZihvPD0yMDQ3KXtpZihlKzE+PWkpYnJlYWs7dFtlKytdPTE5MnxvPj42LHRbZSsrXT0xMjh8byY2M31lbHNlIGlmKG88PTY1NTM1KXtpZihlKzI+PWkpYnJlYWs7dFtlKytdPTIyNHxvPj4xMix0W2UrK109MTI4fG8+PjYmNjMsdFtlKytdPTEyOHxvJjYzfWVsc2V7aWYoZSszPj1pKWJyZWFrO3RbZSsrXT0yNDB8bz4+MTgsdFtlKytdPTEyOHxvPj4xMiY2Myx0W2UrK109MTI4fG8+PjYmNjMsdFtlKytdPTEyOHxvJjYzfX1yZXR1cm4gdFtlXT0wLGUtYX0scnQ9KHIsdCxlKT0+bG4ocixrLHQsZSksQXI9cj0+e2Zvcih2YXIgdD0wLGU9MDtlPHIubGVuZ3RoOysrZSl7dmFyIG49ci5jaGFyQ29kZUF0KGUpO248PTEyNz90Kys6bjw9MjA0Nz90Kz0yOm4+PTU1Mjk2JiZuPD01NzM0Mz8odCs9NCwrK2UpOnQrPTN9cmV0dXJuIHR9LE9yPXR5cGVvZiBUZXh0RGVjb2RlcjwidSI/bmV3IFRleHREZWNvZGVyOnZvaWQgMCxTcj1mdW5jdGlvbihyKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXZvaWQgMD9hcmd1bWVudHNbMV06MCxlPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dm9pZCAwP2FyZ3VtZW50c1syXTpOYU47Zm9yKHZhciBuPXQrZSxhPXQ7clthXSYmIShhPj1uKTspKythO2lmKGEtdD4xNiYmci5idWZmZXImJk9yKXJldHVybiBPci5kZWNvZGUoci5zdWJhcnJheSh0LGEpKTtmb3IodmFyIGk9IiI7dDxhOyl7dmFyIHM9clt0KytdO2lmKCEocyYxMjgpKXtpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpO2NvbnRpbnVlfXZhciBvPXJbdCsrXSY2MztpZigocyYyMjQpPT0xOTIpe2krPVN0cmluZy5mcm9tQ2hhckNvZGUoKHMmMzEpPDw2fG8pO2NvbnRpbnVlfXZhciB1PXJbdCsrXSY2MztpZigocyYyNDApPT0yMjQ/cz0ocyYxNSk8PDEyfG88PDZ8dTpzPShzJjcpPDwxOHxvPDwxMnx1PDw2fHJbdCsrXSY2MyxzPDY1NTM2KWkrPVN0cmluZy5mcm9tQ2hhckNvZGUocyk7ZWxzZXt2YXIgbD1zLTY1NTM2O2krPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTZ8bD4+MTAsNTYzMjB8bCYxMDIzKX19cmV0dXJuIGl9LGZuPShyLHQpPT5yP1NyKGsscix0KToiIixobj0ocix0KT0+e3Q9Rih0KSxVKHIse25hbWU6dCxmcm9tV2lyZVR5cGUoZSl7Zm9yKHZhciBuPVRbZT4+Ml0sYT1lKzQsaSxvLHM9YSxvPTA7bzw9bjsrK28pe3ZhciB1PWErbztpZihvPT1ufHxrW3VdPT0wKXt2YXIgbD11LXMsZj1mbihzLGwpO2k9PT12b2lkIDA/aT1mOihpKz0iXDAiLGkrPWYpLHM9dSsxfX1yZXR1cm4gWChlKSxpfSx0b1dpcmVUeXBlKGUsbil7biBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYobj1uZXcgVWludDhBcnJheShuKSk7dmFyIGEsaT10eXBlb2Ygbj09InN0cmluZyI7aXx8QXJyYXlCdWZmZXIuaXNWaWV3KG4pJiZuLkJZVEVTX1BFUl9FTEVNRU5UPT0xfHxDKCJDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIHN0ZDo6c3RyaW5nIiksaT9hPUFyKG4pOmE9bi5sZW5ndGg7dmFyIHM9anIoNCthKzEpLG89cys0O3JldHVybiBUW3M+PjJdPWEsaT9ydChuLG8sYSsxKTprLnNldChuLG8pLGUhPT1udWxsJiZlLnB1c2goWCxzKSxzfSxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmF0LGRlc3RydWN0b3JGdW5jdGlvbihlKXtYKGUpfX0pfSx4cj10eXBlb2YgVGV4dERlY29kZXI8InUiP25ldyBUZXh0RGVjb2RlcigidXRmLTE2bGUiKTp2b2lkIDAscG49KHIsdCk9Pntmb3IodmFyIGU9cj4+MSxuPWUrdC8yLGE9ZTshKGE+PW4pJiZaW2FdOykrK2E7aWYoYS1lPjE2JiZ4cilyZXR1cm4geHIuZGVjb2RlKFouc3ViYXJyYXkoZSxhKSk7Zm9yKHZhciBpPSIiLHM9ZTshKHM+PW4pOysrcyl7dmFyIG89WltzXTtpZihvPT0wKWJyZWFrO2krPVN0cmluZy5mcm9tQ2hhckNvZGUobyl9cmV0dXJuIGl9LGRuPShyLHQsZSk9PntpZihlIT1udWxsfHwoZT0yMTQ3NDgzNjQ3KSxlPDIpcmV0dXJuIDA7ZS09Mjtmb3IodmFyIG49dCxhPWU8ci5sZW5ndGgqMj9lLzI6ci5sZW5ndGgsaT0wO2k8YTsrK2kpe3ZhciBzPXIuY2hhckNvZGVBdChpKTtkdFt0Pj4xXT1zLHQrPTJ9cmV0dXJuIGR0W3Q+PjFdPTAsdC1ufSx2bj1yPT5yLmxlbmd0aCoyLHluPShyLHQpPT57Zm9yKHZhciBlPTAsbj0iIjshKGU+PXQvNCk7KXt2YXIgYT1LW3IrZSo0Pj4yXTtpZihhPT0wKWJyZWFrO2lmKCsrZSxhPj02NTUzNil7dmFyIGk9YS02NTUzNjtuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fGk+PjEwLDU2MzIwfGkmMTAyMyl9ZWxzZSBuKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEpfXJldHVybiBufSxnbj0ocix0LGUpPT57aWYoZSE9bnVsbHx8KGU9MjE0NzQ4MzY0NyksZTw0KXJldHVybiAwO2Zvcih2YXIgbj10LGE9bitlLTQsaT0wO2k8ci5sZW5ndGg7KytpKXt2YXIgcz1yLmNoYXJDb2RlQXQoaSk7aWYocz49NTUyOTYmJnM8PTU3MzQzKXt2YXIgbz1yLmNoYXJDb2RlQXQoKytpKTtzPTY1NTM2KygocyYxMDIzKTw8MTApfG8mMTAyM31pZihLW3Q+PjJdPXMsdCs9NCx0KzQ+YSlicmVha31yZXR1cm4gS1t0Pj4yXT0wLHQtbn0sbW49cj0+e2Zvcih2YXIgdD0wLGU9MDtlPHIubGVuZ3RoOysrZSl7dmFyIG49ci5jaGFyQ29kZUF0KGUpO24+PTU1Mjk2JiZuPD01NzM0MyYmKytlLHQrPTR9cmV0dXJuIHR9LCRuPShyLHQsZSk9PntlPUYoZSk7dmFyIG4sYSxpLHM7dD09PTI/KG49cG4sYT1kbixzPXZuLGk9bz0+WltvPj4xXSk6dD09PTQmJihuPXluLGE9Z24scz1tbixpPW89PlRbbz4+Ml0pLFUocix7bmFtZTplLGZyb21XaXJlVHlwZTpvPT57Zm9yKHZhciB1PVRbbz4+Ml0sbCxmPW8rNCxkPTA7ZDw9dTsrK2Qpe3ZhciB3PW8rNCtkKnQ7aWYoZD09dXx8aSh3KT09MCl7dmFyIGI9dy1mLF89bihmLGIpO2w9PT12b2lkIDA/bD1fOihsKz0iXDAiLGwrPV8pLGY9dyt0fX1yZXR1cm4gWChvKSxsfSx0b1dpcmVUeXBlOihvLHUpPT57dHlwZW9mIHUhPSJzdHJpbmciJiZDKGBDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAke2V9YCk7dmFyIGw9cyh1KSxmPWpyKDQrbCt0KTtyZXR1cm4gVFtmPj4yXT1sL3QsYSh1LGYrNCxsK3QpLG8hPT1udWxsJiZvLnB1c2goWCxmKSxmfSxhcmdQYWNrQWR2YW5jZTpILHJlYWRWYWx1ZUZyb21Qb2ludGVyOmF0LGRlc3RydWN0b3JGdW5jdGlvbihvKXtYKG8pfX0pfSx3bj0ocix0LGUsbixhLGkpPT57JHRbcl09e25hbWU6Rih0KSxyYXdDb25zdHJ1Y3RvcjpMKGUsbikscmF3RGVzdHJ1Y3RvcjpMKGEsaSksZmllbGRzOltdfX0sYm49KHIsdCxlLG4sYSxpLHMsbyx1LGwpPT57JHRbcl0uZmllbGRzLnB1c2goe2ZpZWxkTmFtZTpGKHQpLGdldHRlclJldHVyblR5cGU6ZSxnZXR0ZXI6TChuLGEpLGdldHRlckNvbnRleHQ6aSxzZXR0ZXJBcmd1bWVudFR5cGU6cyxzZXR0ZXI6TChvLHUpLHNldHRlckNvbnRleHQ6bH0pfSxDbj0ocix0KT0+e3Q9Rih0KSxVKHIse2lzVm9pZDohMCxuYW1lOnQsYXJnUGFja0FkdmFuY2U6MCxmcm9tV2lyZVR5cGU6KCk9Pnt9LHRvV2lyZVR5cGU6KGUsbik9Pnt9fSl9LFF0PVtdLFRuPShyLHQsZSxuKT0+KHI9UXRbcl0sdD16LnRvVmFsdWUodCkscihudWxsLHQsZSxuKSksUG49e30sX249cj0+e3ZhciB0PVBuW3JdO3JldHVybiB0PT09dm9pZCAwP0Yocik6dH0sRXI9KCk9PntpZih0eXBlb2YgZ2xvYmFsVGhpcz09Im9iamVjdCIpcmV0dXJuIGdsb2JhbFRoaXM7ZnVuY3Rpb24gcih0KXt0LiQkJGVtYmluZF9nbG9iYWwkJCQ9dDt2YXIgZT10eXBlb2YgJCQkZW1iaW5kX2dsb2JhbCQkJD09Im9iamVjdCImJnQuJCQkZW1iaW5kX2dsb2JhbCQkJD09dDtyZXR1cm4gZXx8ZGVsZXRlIHQuJCQkZW1iaW5kX2dsb2JhbCQkJCxlfWlmKHR5cGVvZiAkJCRlbWJpbmRfZ2xvYmFsJCQkPT0ib2JqZWN0Inx8KHR5cGVvZiBnbG9iYWw9PSJvYmplY3QiJiZyKGdsb2JhbCk/JCQkZW1iaW5kX2dsb2JhbCQkJD1nbG9iYWw6dHlwZW9mIHNlbGY9PSJvYmplY3QiJiZyKHNlbGYpJiYoJCQkZW1iaW5kX2dsb2JhbCQkJD1zZWxmKSx0eXBlb2YgJCQkZW1iaW5kX2dsb2JhbCQkJD09Im9iamVjdCIpKXJldHVybiAkJCRlbWJpbmRfZ2xvYmFsJCQkO3Rocm93IEVycm9yKCJ1bmFibGUgdG8gZ2V0IGdsb2JhbCBvYmplY3QuIil9LEFuPXI9PnI9PT0wP3oudG9IYW5kbGUoRXIoKSk6KHI9X24ociksei50b0hhbmRsZShFcigpW3JdKSksT249cj0+e3ZhciB0PVF0Lmxlbmd0aDtyZXR1cm4gUXQucHVzaChyKSx0fSxJcj0ocix0KT0+e3ZhciBlPXFbcl07cmV0dXJuIGU9PT12b2lkIDAmJkMoYCR7dH0gaGFzIHVua25vd24gdHlwZSAke0NyKHIpfWApLGV9LFNuPShyLHQpPT57Zm9yKHZhciBlPW5ldyBBcnJheShyKSxuPTA7bjxyOysrbillW25dPUlyKFRbdCtuKjQ+PjJdLGBwYXJhbWV0ZXIgJHtufWApO3JldHVybiBlfSx4bj0ocix0LGUpPT57dmFyIG49W10sYT1yLnRvV2lyZVR5cGUobixlKTtyZXR1cm4gbi5sZW5ndGgmJihUW3Q+PjJdPXoudG9IYW5kbGUobikpLGF9LEVuPVJlZmxlY3QuY29uc3RydWN0LEluPShyLHQsZSk9Pnt2YXIgbj1TbihyLHQpLGE9bi5zaGlmdCgpO3ItLTt2YXIgaT1uZXcgQXJyYXkocikscz0odSxsLGYsZCk9Pntmb3IodmFyIHc9MCxiPTA7YjxyOysrYilpW2JdPW5bYl0ucmVhZFZhbHVlRnJvbVBvaW50ZXIoZCt3KSx3Kz1uW2JdLmFyZ1BhY2tBZHZhbmNlO3ZhciBfPWU9PT0xP0VuKGwsaSk6bC5hcHBseSh1LGkpO3JldHVybiB4bihhLGYsXyl9LG89YG1ldGhvZENhbGxlcjwoJHtuLm1hcCh1PT51Lm5hbWUpLmpvaW4oIiwgIil9KSA9PiAke2EubmFtZX0+YDtyZXR1cm4gT24oSHQobyxzKSl9LGpuPXI9PntyPjkmJihKW3IrMV0rPTEpfSxGbj1yPT57dmFyIHQ9ei50b1ZhbHVlKHIpO0x0KHQpLHF0KHIpfSxSbj0ocix0KT0+e3I9SXIociwiX2VtdmFsX3Rha2VfdmFsdWUiKTt2YXIgZT1yLnJlYWRWYWx1ZUZyb21Qb2ludGVyKHQpO3JldHVybiB6LnRvSGFuZGxlKGUpfSxNbj0ocix0LGUsbik9Pnt2YXIgYT1uZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksaT1uZXcgRGF0ZShhLDAsMSkscz1uZXcgRGF0ZShhLDYsMSksbz1pLmdldFRpbWV6b25lT2Zmc2V0KCksdT1zLmdldFRpbWV6b25lT2Zmc2V0KCksbD1NYXRoLm1heChvLHUpO1Rbcj4+Ml09bCo2MCxLW3Q+PjJdPSsobyE9dSk7dmFyIGY9Yj0+e3ZhciBfPWI+PTA/Ii0iOiIrIix4PU1hdGguYWJzKGIpLFM9U3RyaW5nKE1hdGguZmxvb3IoeC82MCkpLnBhZFN0YXJ0KDIsIjAiKSxJPVN0cmluZyh4JTYwKS5wYWRTdGFydCgyLCIwIik7cmV0dXJuYFVUQyR7X30ke1N9JHtJfWB9LGQ9ZihvKSx3PWYodSk7dTxvPyhydChkLGUsMTcpLHJ0KHcsbiwxNykpOihydChkLG4sMTcpLHJ0KHcsZSwxNykpfSxEbj0oKT0+MjE0NzQ4MzY0OCxXbj0ocix0KT0+TWF0aC5jZWlsKHIvdCkqdCxrbj1yPT57dmFyIHQ9cHQuYnVmZmVyLGU9KHItdC5ieXRlTGVuZ3RoKzY1NTM1KS82NTUzNnwwO3RyeXtyZXR1cm4gcHQuZ3JvdyhlKSx1cigpLDF9Y2F0Y2h7fX0sTG49cj0+e3ZhciB0PWsubGVuZ3RoO3I+Pj49MDt2YXIgZT1EbigpO2lmKHI+ZSlyZXR1cm4hMTtmb3IodmFyIG49MTtuPD00O24qPTIpe3ZhciBhPXQqKDErLjIvbik7YT1NYXRoLm1pbihhLHIrMTAwNjYzMjk2KTt2YXIgaT1NYXRoLm1pbihlLFduKE1hdGgubWF4KHIsYSksNjU1MzYpKSxzPWtuKGkpO2lmKHMpcmV0dXJuITB9cmV0dXJuITF9LEp0PXt9LFVuPSgpPT5odHx8Ii4vdGhpcy5wcm9ncmFtIixzdD0oKT0+e2lmKCFzdC5zdHJpbmdzKXt2YXIgcj0odHlwZW9mIG5hdmlnYXRvcj09Im9iamVjdCImJm5hdmlnYXRvci5sYW5ndWFnZXMmJm5hdmlnYXRvci5sYW5ndWFnZXNbMF18fCJDIikucmVwbGFjZSgiLSIsIl8iKSsiLlVURi04Iix0PXtVU0VSOiJ3ZWJfdXNlciIsTE9HTkFNRToid2ViX3VzZXIiLFBBVEg6Ii8iLFBXRDoiLyIsSE9NRToiL2hvbWUvd2ViX3VzZXIiLExBTkc6cixfOlVuKCl9O2Zvcih2YXIgZSBpbiBKdClKdFtlXT09PXZvaWQgMD9kZWxldGUgdFtlXTp0W2VdPUp0W2VdO3ZhciBuPVtdO2Zvcih2YXIgZSBpbiB0KW4ucHVzaChgJHtlfT0ke3RbZV19YCk7c3Quc3RyaW5ncz1ufXJldHVybiBzdC5zdHJpbmdzfSxCbj0ocix0KT0+e3ZhciBlPTAsbj0wO2Zvcih2YXIgYSBvZiBzdCgpKXt2YXIgaT10K2U7VFtyK24+PjJdPWksZSs9cnQoYSxpLDEvMCkrMSxuKz00fXJldHVybiAwfSxIbj0ocix0KT0+e3ZhciBlPXN0KCk7VFtyPj4yXT1lLmxlbmd0aDt2YXIgbj0wO2Zvcih2YXIgYSBvZiBlKW4rPUFyKGEpKzE7cmV0dXJuIFRbdD4+Ml09biwwfSx6bj1yPT41MjtmdW5jdGlvbiBWbihyLHQsZSxuLGEpe3JldHVybiA3MH12YXIgTm49W251bGwsW10sW11dLEduPShyLHQpPT57dmFyIGU9Tm5bcl07dD09PTB8fHQ9PT0xMD8oKHI9PT0xP2FyOlkpKFNyKGUpKSxlLmxlbmd0aD0wKTplLnB1c2godCl9LHFuPShyLHQsZSxuKT0+e2Zvcih2YXIgYT0wLGk9MDtpPGU7aSsrKXt2YXIgcz1UW3Q+PjJdLG89VFt0KzQ+PjJdO3QrPTg7Zm9yKHZhciB1PTA7dTxvO3UrKylHbihyLGtbcyt1XSk7YSs9b31yZXR1cm4gVFtuPj4yXT1hLDB9LFFuPXI9PnI7eGUoKSxSZSgpLEdlKCksYy5ub0V4aXRSdW50aW1lJiZjLm5vRXhpdFJ1bnRpbWUsYy5wcmludCYmKGFyPWMucHJpbnQpLGMucHJpbnRFcnImJihZPWMucHJpbnRFcnIpLGMud2FzbUJpbmFyeSYmKGV0PWMud2FzbUJpbmFyeSksYy5hcmd1bWVudHMmJmMuYXJndW1lbnRzLGMudGhpc1Byb2dyYW0mJihodD1jLnRoaXNQcm9ncmFtKTt2YXIgSm49e3M6eWUsdzpnZSxhOm1lLGo6JGUsbTp3ZSxQOmJlLHA6Q2UsZ2E6VGUsZDpQZSxiYTpfZSx1YTpPZSxhYTpTZSxwYTpJZSxzYTpYZSxyYTpaZSxIOktlLG5hOnRuLFY6ZW4sVzpubix4Om9uLHQ6c24sdGE6Y24sb2E6aG4sUTokbixJOnduLHZhOmJuLHFhOkNuLGRhOlRuLHdhOnF0LEQ6QW4sbWE6SW4sWDpqbixZOkZuLFU6Um4sY2E6TW4saGE6TG4sZWE6Qm4sZmE6SG4saWE6em4sXzpWbixTOnFuLEs6eGEsQzpJYSxNOnVhLFI6V2EscTpfYSxiOmZhLEU6U2Esa2E6RmEsYzpoYSxqYTpSYSxoOnNhLGk6eWEscjp3YSxPOk9hLHY6Q2EsRjpQYSxMOkFhLHo6amEsSjprYSwkOkxhLFo6VWEsazpwYSxmOm9hLGU6bGEsZzpjYSxOOkRhLGw6dmEsbGE6RWEsbzpiYSxCOmdhLHU6VGEsVDokYSxBOk1hLG46ZGEsRzptYSx5OlFufSxQPWF3YWl0IHBlKCk7UC55YTt2YXIgWG49UC56YSxYPWMuX2ZyZWU9UC5BYSxqcj1jLl9tYWxsb2M9UC5DYSxZbj1QLkRhLHY9UC5FYSxabj1QLkZhLEtuPVAuR2EsdGE9UC5IYSxyYT1QLklhLGVhPVAuSmEsbmE9UC5LYTtjLmR5bkNhbGxfdmlpamlpPVAuTGE7dmFyIGFhPWMuZHluQ2FsbF9paWlqaj1QLk1hO2MuZHluQ2FsbF9qaWppPVAuTmE7dmFyIGlhPWMuZHluQ2FsbF9qaWlpaT1QLk9hO2MuZHluQ2FsbF9paWlpaWo9UC5QYSxjLmR5bkNhbGxfaWlpaWlqaj1QLlFhLGMuZHluQ2FsbF9paWlpaWlqaj1QLlJhO2Z1bmN0aW9uIG9hKHIsdCl7dmFyIGU9bSgpO3RyeXskKHIpKHQpfWNhdGNoKG4pe2lmKGcoZSksbiE9PW4rMCl0aHJvdyBuO3YoMSwwKX19ZnVuY3Rpb24gc2Eocix0LGUsbil7dmFyIGE9bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUsbil9Y2F0Y2goaSl7aWYoZyhhKSxpIT09aSswKXRocm93IGk7digxLDApfX1mdW5jdGlvbiB1YShyLHQsZSxuLGEpe3ZhciBpPW0oKTt0cnl7cmV0dXJuICQocikodCxlLG4sYSl9Y2F0Y2gocyl7aWYoZyhpKSxzIT09cyswKXRocm93IHM7digxLDApfX1mdW5jdGlvbiBjYShyLHQsZSxuKXt2YXIgYT1tKCk7dHJ5eyQocikodCxlLG4pfWNhdGNoKGkpe2lmKGcoYSksaSE9PWkrMCl0aHJvdyBpO3YoMSwwKX19ZnVuY3Rpb24gbGEocix0LGUpe3ZhciBuPW0oKTt0cnl7JChyKSh0LGUpfWNhdGNoKGEpe2lmKGcobiksYSE9PWErMCl0aHJvdyBhO3YoMSwwKX19ZnVuY3Rpb24gZmEocix0KXt2YXIgZT1tKCk7dHJ5e3JldHVybiAkKHIpKHQpfWNhdGNoKG4pe2lmKGcoZSksbiE9PW4rMCl0aHJvdyBuO3YoMSwwKX19ZnVuY3Rpb24gaGEocix0LGUpe3ZhciBuPW0oKTt0cnl7cmV0dXJuICQocikodCxlKX1jYXRjaChhKXtpZihnKG4pLGEhPT1hKzApdGhyb3cgYTt2KDEsMCl9fWZ1bmN0aW9uIHBhKHIpe3ZhciB0PW0oKTt0cnl7JChyKSgpfWNhdGNoKGUpe2lmKGcodCksZSE9PWUrMCl0aHJvdyBlO3YoMSwwKX19ZnVuY3Rpb24gZGEocix0LGUsbixhLGkscyxvLHUsbCxmKXt2YXIgZD1tKCk7dHJ5eyQocikodCxlLG4sYSxpLHMsbyx1LGwsZil9Y2F0Y2godyl7aWYoZyhkKSx3IT09dyswKXRocm93IHc7digxLDApfX1mdW5jdGlvbiB2YShyLHQsZSxuLGEpe3ZhciBpPW0oKTt0cnl7JChyKSh0LGUsbixhKX1jYXRjaChzKXtpZihnKGkpLHMhPT1zKzApdGhyb3cgczt2KDEsMCl9fWZ1bmN0aW9uIHlhKHIsdCxlLG4sYSl7dmFyIGk9bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUsbixhKX1jYXRjaChzKXtpZihnKGkpLHMhPT1zKzApdGhyb3cgczt2KDEsMCl9fWZ1bmN0aW9uIGdhKHIsdCxlLG4sYSxpLHMpe3ZhciBvPW0oKTt0cnl7JChyKSh0LGUsbixhLGkscyl9Y2F0Y2godSl7aWYoZyhvKSx1IT09dSswKXRocm93IHU7digxLDApfX1mdW5jdGlvbiBtYShyLHQsZSxuLGEsaSxzLG8sdSxsLGYsZCx3LGIsXyx4KXt2YXIgUz1tKCk7dHJ5eyQocikodCxlLG4sYSxpLHMsbyx1LGwsZixkLHcsYixfLHgpfWNhdGNoKEkpe2lmKGcoUyksSSE9PUkrMCl0aHJvdyBJO3YoMSwwKX19ZnVuY3Rpb24gJGEocix0LGUsbixhLGkscyxvLHUpe3ZhciBsPW0oKTt0cnl7JChyKSh0LGUsbixhLGkscyxvLHUpfWNhdGNoKGYpe2lmKGcobCksZiE9PWYrMCl0aHJvdyBmO3YoMSwwKX19ZnVuY3Rpb24gd2Eocix0LGUsbixhLGkpe3ZhciBzPW0oKTt0cnl7cmV0dXJuICQocikodCxlLG4sYSxpKX1jYXRjaChvKXtpZihnKHMpLG8hPT1vKzApdGhyb3cgbzt2KDEsMCl9fWZ1bmN0aW9uIGJhKHIsdCxlLG4sYSxpKXt2YXIgcz1tKCk7dHJ5eyQocikodCxlLG4sYSxpKX1jYXRjaChvKXtpZihnKHMpLG8hPT1vKzApdGhyb3cgbzt2KDEsMCl9fWZ1bmN0aW9uIENhKHIsdCxlLG4sYSxpLHMpe3ZhciBvPW0oKTt0cnl7cmV0dXJuICQocikodCxlLG4sYSxpLHMpfWNhdGNoKHUpe2lmKGcobyksdSE9PXUrMCl0aHJvdyB1O3YoMSwwKX19ZnVuY3Rpb24gVGEocix0LGUsbixhLGkscyxvKXt2YXIgdT1tKCk7dHJ5eyQocikodCxlLG4sYSxpLHMsbyl9Y2F0Y2gobCl7aWYoZyh1KSxsIT09bCswKXRocm93IGw7digxLDApfX1mdW5jdGlvbiBQYShyLHQsZSxuLGEsaSxzLG8pe3ZhciB1PW0oKTt0cnl7cmV0dXJuICQocikodCxlLG4sYSxpLHMsbyl9Y2F0Y2gobCl7aWYoZyh1KSxsIT09bCswKXRocm93IGw7digxLDApfX1mdW5jdGlvbiBfYShyKXt2YXIgdD1tKCk7dHJ5e3JldHVybiAkKHIpKCl9Y2F0Y2goZSl7aWYoZyh0KSxlIT09ZSswKXRocm93IGU7digxLDApfX1mdW5jdGlvbiBBYShyLHQsZSxuLGEsaSxzLG8sdSl7dmFyIGw9bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUsbixhLGkscyxvLHUpfWNhdGNoKGYpe2lmKGcobCksZiE9PWYrMCl0aHJvdyBmO3YoMSwwKX19ZnVuY3Rpb24gT2Eocix0LGUsbixhLGkscyl7dmFyIG89bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUsbixhLGkscyl9Y2F0Y2godSl7aWYoZyhvKSx1IT09dSswKXRocm93IHU7digxLDApfX1mdW5jdGlvbiBTYShyLHQsZSxuKXt2YXIgYT1tKCk7dHJ5e3JldHVybiAkKHIpKHQsZSxuKX1jYXRjaChpKXtpZihnKGEpLGkhPT1pKzApdGhyb3cgaTt2KDEsMCl9fWZ1bmN0aW9uIHhhKHIsdCxlLG4pe3ZhciBhPW0oKTt0cnl7cmV0dXJuICQocikodCxlLG4pfWNhdGNoKGkpe2lmKGcoYSksaSE9PWkrMCl0aHJvdyBpO3YoMSwwKX19ZnVuY3Rpb24gRWEocix0LGUsbixhLGkscyxvKXt2YXIgdT1tKCk7dHJ5eyQocikodCxlLG4sYSxpLHMsbyl9Y2F0Y2gobCl7aWYoZyh1KSxsIT09bCswKXRocm93IGw7digxLDApfX1mdW5jdGlvbiBJYShyLHQsZSxuLGEsaSl7dmFyIHM9bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUsbixhLGkpfWNhdGNoKG8pe2lmKGcocyksbyE9PW8rMCl0aHJvdyBvO3YoMSwwKX19ZnVuY3Rpb24gamEocix0LGUsbixhLGkscyxvLHUsbCl7dmFyIGY9bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUsbixhLGkscyxvLHUsbCl9Y2F0Y2goZCl7aWYoZyhmKSxkIT09ZCswKXRocm93IGQ7digxLDApfX1mdW5jdGlvbiBGYShyLHQsZSl7dmFyIG49bSgpO3RyeXtyZXR1cm4gJChyKSh0LGUpfWNhdGNoKGEpe2lmKGcobiksYSE9PWErMCl0aHJvdyBhO3YoMSwwKX19ZnVuY3Rpb24gUmEocix0LGUsbixhKXt2YXIgaT1tKCk7dHJ5e3JldHVybiAkKHIpKHQsZSxuLGEpfWNhdGNoKHMpe2lmKGcoaSkscyE9PXMrMCl0aHJvdyBzO3YoMSwwKX19ZnVuY3Rpb24gTWEocix0LGUsbixhLGkscyxvLHUsbCl7dmFyIGY9bSgpO3RyeXskKHIpKHQsZSxuLGEsaSxzLG8sdSxsKX1jYXRjaChkKXtpZihnKGYpLGQhPT1kKzApdGhyb3cgZDt2KDEsMCl9fWZ1bmN0aW9uIERhKHIsdCxlLG4sYSxpLHMpe3ZhciBvPW0oKTt0cnl7JChyKSh0LGUsbixhLGkscyl9Y2F0Y2godSl7aWYoZyhvKSx1IT09dSswKXRocm93IHU7digxLDApfX1mdW5jdGlvbiBXYShyLHQsZSxuKXt2YXIgYT1tKCk7dHJ5e3JldHVybiAkKHIpKHQsZSxuKX1jYXRjaChpKXtpZihnKGEpLGkhPT1pKzApdGhyb3cgaTt2KDEsMCl9fWZ1bmN0aW9uIGthKHIsdCxlLG4sYSxpLHMsbyx1LGwsZixkKXt2YXIgdz1tKCk7dHJ5e3JldHVybiAkKHIpKHQsZSxuLGEsaSxzLG8sdSxsLGYsZCl9Y2F0Y2goYil7aWYoZyh3KSxiIT09YiswKXRocm93IGI7digxLDApfX1mdW5jdGlvbiBMYShyLHQsZSxuLGEsaSxzKXt2YXIgbz1tKCk7dHJ5e3JldHVybiBhYShyLHQsZSxuLGEsaSxzKX1jYXRjaCh1KXtpZihnKG8pLHUhPT11KzApdGhyb3cgdTt2KDEsMCl9fWZ1bmN0aW9uIFVhKHIsdCxlLG4sYSl7dmFyIGk9bSgpO3RyeXtyZXR1cm4gaWEocix0LGUsbixhKX1jYXRjaChzKXtpZihnKGkpLHMhPT1zKzApdGhyb3cgczt2KDEsMCl9fWZ1bmN0aW9uIFh0KCl7aWYoRz4wKXtudD1YdDtyZXR1cm59aWYoZWUoKSxHPjApe250PVh0O3JldHVybn1mdW5jdGlvbiByKCl7dmFyIHQ7Yy5jYWxsZWRSdW49ITAsIWlyJiYobmUoKSxBKGMpLCh0PWMub25SdW50aW1lSW5pdGlhbGl6ZWQpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKGMpLGFlKCkpfWMuc2V0U3RhdHVzPyhjLnNldFN0YXR1cygiUnVubmluZy4uLiIpLHNldFRpbWVvdXQoKCk9PntzZXRUaW1lb3V0KCgpPT5jLnNldFN0YXR1cygiIiksMSkscigpfSwxKSk6cigpfWZ1bmN0aW9uIEJhKCl7aWYoYy5wcmVJbml0KWZvcih0eXBlb2YgYy5wcmVJbml0PT0iZnVuY3Rpb24iJiYoYy5wcmVJbml0PVtjLnByZUluaXRdKTtjLnByZUluaXQubGVuZ3RoPjA7KWMucHJlSW5pdC5zaGlmdCgpKCl9cmV0dXJuIEJhKCksWHQoKSxwPUUscH07ZnVuY3Rpb24gcnIoaCl7cmV0dXJuIEt0KHRyLGgpfWFzeW5jIGZ1bmN0aW9uIGVyKGgscCl7cmV0dXJuIEtyKHRyLGgscCl9bGV0IGZ0PXt0cnlIYXJkZXI6ITAsbWF4TnVtYmVyT2ZTeW1ib2xzOjF9LEl0PSExO2FzeW5jIGZ1bmN0aW9uIGp0KCl7aWYoIUl0KXRyeXthd2FpdCBycih7ZmlyZUltbWVkaWF0ZWx5OiEwfSksSXQ9ITAsc2VsZi5wb3N0TWVzc2FnZSh7dHlwZToicmVhZHkifSl9Y2F0Y2goaCl7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToiZXJyb3IiLGVycm9yOmBaWGluZyBpbml0IGZhaWxlZDogJHsoaD09bnVsbD92b2lkIDA6aC5tZXNzYWdlKXx8aH1gfSl9fWZ1bmN0aW9uIHRlKGgpe2NvbnN0e3dpZHRoOnAsaGVpZ2h0Onl9PWgsQT1uZXcgT2Zmc2NyZWVuQ2FudmFzKHAseSkuZ2V0Q29udGV4dCgiMmQiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITF9KTtBLmRyYXdJbWFnZShoLDAsMCk7Y29uc3QgTz1BLmdldEltYWdlRGF0YSgwLDAscCx5KTtyZXR1cm4gaC5jbG9zZSgpLE99c2VsZi5vbm1lc3NhZ2U9YXN5bmMgaD0+e2NvbnN0e2RhdGE6cH09aDt0cnl7c3dpdGNoKHA9PW51bGw/dm9pZCAwOnAudHlwZSl7Y2FzZSJpbml0Ijp7cCE9bnVsbCYmcC5vcHRpb25zJiZ0eXBlb2YgcC5vcHRpb25zPT0ib2JqZWN0IiYmKGZ0PXsuLi5mdCwuLi5wLm9wdGlvbnN9KSxhd2FpdCBqdCgpO3JldHVybn1jYXNlInByZXBhcmUiOnthd2FpdCBycih7Li4uKHA9PW51bGw/dm9pZCAwOnAuYXJncyl8fHt9LGZpcmVJbW1lZGlhdGVseTohMH0pLEl0PSEwLHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InJlYWR5In0pO3JldHVybn1jYXNlImRlY29kZSI6e2F3YWl0IGp0KCk7Y29uc3QgeT1wLmJpdG1hcDtpZigheSl7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToicmVzdWx0IixvazohMX0pO3JldHVybn1jb25zdCBjPXRlKHkpLEE9cGVyZm9ybWFuY2Uubm93KCksTz1hd2FpdCBlcihjLGZ0KSxFPXBlcmZvcm1hbmNlLm5vdygpLUE7aWYoTyYmTy5sZW5ndGg+MCl7Y29uc3QgTT1PWzBdO3NlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InJlc3VsdCIsb2s6ITAsdGV4dDpNLnRleHQsZm9ybWF0Ok0uZm9ybWF0LGR1cmF0aW9uTXM6RX0pfWVsc2Ugc2VsZi5wb3N0TWVzc2FnZSh7dHlwZToicmVzdWx0IixvazohMSxkdXJhdGlvbk1zOkV9KTtyZXR1cm59Y2FzZSJkZWNvZGVCbG9iIjp7YXdhaXQganQoKTtjb25zdCB5PXAuYmxvYjtpZigheSl7c2VsZi5wb3N0TWVzc2FnZSh7dHlwZToicmVzdWx0IixvazohMX0pO3JldHVybn1jb25zdCBjPXBlcmZvcm1hbmNlLm5vdygpLEE9YXdhaXQgZXIoeSxmdCksTz1wZXJmb3JtYW5jZS5ub3coKS1jO2lmKEEmJkEubGVuZ3RoPjApe2NvbnN0IEU9QVswXTtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJyZXN1bHQiLG9rOiEwLHRleHQ6RS50ZXh0LGZvcm1hdDpFLmZvcm1hdCxkdXJhdGlvbk1zOk99KX1lbHNlIHNlbGYucG9zdE1lc3NhZ2Uoe3R5cGU6InJlc3VsdCIsb2s6ITEsZHVyYXRpb25NczpPfSk7cmV0dXJufWRlZmF1bHQ6cmV0dXJufX1jYXRjaCh5KXtzZWxmLnBvc3RNZXNzYWdlKHt0eXBlOiJlcnJvciIsZXJyb3I6KHk9PW51bGw/dm9pZCAwOnkubWVzc2FnZSl8fFN0cmluZyh5KX0pfX19KSgpOwo=",Lc=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)),fr=typeof self<"u"&&self.Blob&&new Blob([Lc(Qr)],{type:"text/javascript;charset=utf-8"});function Tc(t){let e;try{if(e=fr&&(self.URL||self.webkitURL).createObjectURL(fr),!e)throw"";const r=new Worker(e,{name:t==null?void 0:t.name});return r.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),r}catch{return new Worker("data:text/javascript;base64,"+Qr,{name:t==null?void 0:t.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}const Ce=[["Aztec","M"],["Codabar","L"],["Code39","L"],["Code93","L"],["Code128","L"],["DataBar","L"],["DataBarExpanded","L"],["DataMatrix","M"],["EAN-8","L"],["EAN-13","L"],["ITF","L"],["MaxiCode","M"],["PDF417","M"],["QRCode","M"],["UPC-A","L"],["UPC-E","L"],["MicroQRCode","M"],["rMQRCode","M"],["DXFilmEdge","L"],["DataBarLimited","L"]],Le=Ce.map(([t])=>t),wc=Le.filter((t,e)=>Ce[e][1]==="L"),Yc=Le.filter((t,e)=>Ce[e][1]==="M");function un(t){switch(t){case"Linear-Codes":return wc.reduce((e,r)=>e|un(r),0);case"Matrix-Codes":return Yc.reduce((e,r)=>e|un(r),0);case"Any":return(1<<Ce.length)-1;case"None":return 0;default:return 1<<Le.indexOf(t)}}function Hc(t){if(t===0)return"None";const e=31-Math.clz32(t);return Le[e]}function Vc(t){return t.reduce((e,r)=>e|un(r),0)}const Pc=["LocalAverage","GlobalHistogram","FixedThreshold","BoolCast"];function xc(t){return Pc.indexOf(t)}const pr=["Unknown","ASCII","ISO8859_1","ISO8859_2","ISO8859_3","ISO8859_4","ISO8859_5","ISO8859_6","ISO8859_7","ISO8859_8","ISO8859_9","ISO8859_10","ISO8859_11","ISO8859_13","ISO8859_14","ISO8859_15","ISO8859_16","Cp437","Cp1250","Cp1251","Cp1252","Cp1256","Shift_JIS","Big5","GB2312","GB18030","EUC_JP","EUC_KR","UTF16BE","UTF16BE","UTF8","UTF16LE","UTF32BE","UTF32LE","BINARY"];function Kc(t){return t==="UnicodeBig"?pr.indexOf("UTF16BE"):pr.indexOf(t)}const Jc=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function vc(t){return Jc[t]}const kc=["Ignore","Read","Require"];function Fc(t){return kc.indexOf(t)}const Bc=["Plain","ECI","HRI","Hex","Escaped"];function Ec(t){return Bc.indexOf(t)}const ge={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,tryDenoise:!1,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!0,returnErrors:!1,eanAddOnSymbol:"Ignore",textMode:"HRI",characterSet:"Unknown"};function yr(t){return{...t,formats:Vc(t.formats),binarizer:xc(t.binarizer),eanAddOnSymbol:Fc(t.eanAddOnSymbol),textMode:Ec(t.textMode),characterSet:Kc(t.characterSet)}}function Nc(t){return{...t,format:Hc(t.format),contentType:vc(t.contentType),eccLevel:t.ecLevel}}const Uc={locateFile:(t,e)=>{const r=t.match(/_(.+?)\.wasm$/);return r?`https://fastly.jsdelivr.net/npm/zxing-wasm@2.2.1/dist/${r[1]}/${t}`:e+t}},$e=new WeakMap;function Mc(t,e){return Object.is(t,e)||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>Object.hasOwn(e,r)&&t[r]===e[r])}function zr(t,{overrides:e,equalityFn:r=Mc,fireImmediately:n=!1}={}){var o;const[a,l]=(o=$e.get(t))!=null?o:[Uc],u=e??a;let h;if(n){if(l&&(h=r(a,u)))return l;const b=t({...u});return $e.set(t,[u,b]),b}(h??r(a,u))||$e.set(t,[u])}async function Qc(t,e,r=ge){const n={...ge,...r},o=await zr(t,{fireImmediately:!0});let a,l;if("width"in e&&"height"in e&&"data"in e){const{data:h,data:{byteLength:b},width:g,height:I}=e;l=o._malloc(b),o.HEAPU8.set(h,l),a=o.readBarcodesFromPixmap(l,g,I,yr(n))}else{let h,b;if("buffer"in e)[h,b]=[e.byteLength,e];else if("byteLength"in e)[h,b]=[e.byteLength,new Uint8Array(e)];else if("size"in e)[h,b]=[e.size,new Uint8Array(await e.arrayBuffer())];else throw new TypeError("Invalid input type");l=o._malloc(h),o.HEAPU8.set(b,l),a=o.readBarcodesFromImage(l,h,yr(n))}o._free(l);const u=[];for(let h=0;h<a.size();++h)u.push(Nc(a.get(h)));return u}({...ge,formats:[...ge.formats]});var jr=async function(t={}){var e,r,n=t,o,a,l=new Promise((s,i)=>{o=s,a=i}),u=typeof window=="object",h=typeof Bun<"u",b=typeof WorkerGlobalScope<"u";typeof process=="object"&&!((r=process.versions)===null||r===void 0)&&r.node&&process.type!="renderer";var g="./this.program",I,L="";function T(s){return n.locateFile?n.locateFile(s,L):L+s}var G,S;if(u||b||h){try{L=new URL(".",I).href}catch{}b&&(S=s=>{var i=new XMLHttpRequest;return i.open("GET",s,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),G=async s=>{var i=await fetch(s,{credentials:"same-origin"});if(i.ok)return i.arrayBuffer();throw new Error(i.status+" : "+i.url)}}var R=console.log.bind(console),C=console.error.bind(console),H,Y,V=!1,P,K,U,O,_,v,yt,Tt;function ot(){var s=Y.buffer;P=new Int8Array(s),U=new Int16Array(s),n.HEAPU8=K=new Uint8Array(s),O=new Uint16Array(s),_=new Int32Array(s),v=new Uint32Array(s),yt=new Float32Array(s),Tt=new Float64Array(s)}function di(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)Si(n.preRun.shift());Cn(Tn)}function ui(){z.ya()}function hi(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Ii(n.postRun.shift());Cn(Ln)}var Xt=0,vt=null;function mi(s){var i;Xt++,(i=n.monitorRunDependencies)===null||i===void 0||i.call(n,Xt)}function fi(s){var i;if(Xt--,(i=n.monitorRunDependencies)===null||i===void 0||i.call(n,Xt),Xt==0&&vt){var c=vt;vt=null,c()}}function Ve(s){var i;(i=n.onAbort)===null||i===void 0||i.call(n,s),s="Aborted("+s+")",C(s),V=!0,s+=". Build with -sASSERTIONS for more info.";var c=new WebAssembly.RuntimeError(s);throw a(c),c}var $t;function pi(){return T("zxing_reader.wasm")}function yi(s){if(s==$t&&H)return new Uint8Array(H);if(S)return S(s);throw"both async and sync fetching of the wasm failed"}async function bi(s){if(!H)try{var i=await G(s);return new Uint8Array(i)}catch{}return yi(s)}async function gi(s,i){try{var c=await bi(s),d=await WebAssembly.instantiate(c,i);return d}catch(m){C(`failed to asynchronously prepare wasm: ${m}`),Ve(m)}}async function Zi(s,i,c){if(!s&&typeof WebAssembly.instantiateStreaming=="function")try{var d=fetch(i,{credentials:"same-origin"}),m=await WebAssembly.instantiateStreaming(d,c);return m}catch(f){C(`wasm streaming compile failed: ${f}`),C("falling back to ArrayBuffer instantiation")}return gi(i,c)}function Xi(){return{a:no}}async function Gi(){function s(f,y){return z=f.exports,Y=z.xa,ot(),kn=z.Ba,fi(),z}mi();function i(f){return s(f.instance)}var c=Xi();if(n.instantiateWasm)return new Promise((f,y)=>{n.instantiateWasm(c,(p,X)=>{f(s(p))})});$t!=null||($t=pi());try{var d=await Zi(H,$t,c),m=i(d);return m}catch(f){return a(f),Promise.reject(f)}}var Cn=s=>{for(;s.length>0;)s.shift()(n)},Ln=[],Ii=s=>Ln.push(s),Tn=[],Si=s=>Tn.push(s),F=s=>oo(s),B=()=>ao(),_t=[],qt=0,Wi=s=>{var i=new Pe(s);return i.get_caught()||(i.set_caught(!0),qt--),i.set_rethrown(!1),_t.push(i),lo(s),io(s)},ht=0,Ri=()=>{k(0,0);var s=_t.pop();co(s.excPtr),ht=0};class Pe{constructor(i){this.excPtr=i,this.ptr=i-24}set_type(i){v[this.ptr+4>>2]=i}get_type(){return v[this.ptr+4>>2]}set_destructor(i){v[this.ptr+8>>2]=i}get_destructor(){return v[this.ptr+8>>2]}set_caught(i){i=i?1:0,P[this.ptr+12]=i}get_caught(){return P[this.ptr+12]!=0}set_rethrown(i){i=i?1:0,P[this.ptr+13]=i}get_rethrown(){return P[this.ptr+13]!=0}init(i,c){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(c)}set_adjusted_ptr(i){v[this.ptr+16>>2]=i}get_adjusted_ptr(){return v[this.ptr+16>>2]}}var te=s=>so(s),xe=s=>{var i=ht;if(!i)return te(0),0;var c=new Pe(i);c.set_adjusted_ptr(i);var d=c.get_type();if(!d)return te(0),i;for(var m of s){if(m===0||m===d)break;var f=c.ptr+16;if(uo(m,d,f))return te(m),i}return te(d),i},Ci=()=>xe([]),Li=s=>xe([s]),Ti=(s,i)=>xe([s,i]),wi=()=>{var s=_t.pop();s||Ve("no exception to throw");var i=s.excPtr;throw s.get_rethrown()||(_t.push(s),s.set_rethrown(!0),s.set_caught(!1),qt++),ht=i,ht},Yi=(s,i,c)=>{var d=new Pe(s);throw d.init(i,c),ht=s,qt++,ht},Hi=()=>qt,Vi=s=>{throw ht||(ht=s),ht},Pi=()=>Ve(""),ee={},Ke=s=>{for(;s.length;){var i=s.pop(),c=s.pop();c(i)}};function kt(s){return this.fromWireType(v[s>>2])}var wt={},Gt={},ne={},xi=class extends Error{constructor(s){super(s),this.name="InternalError"}},re=s=>{throw new xi(s)},It=(s,i,c)=>{s.forEach(p=>ne[p]=i);function d(p){var X=c(p);X.length!==s.length&&re("Mismatched type converter count");for(var W=0;W<s.length;++W)dt(s[W],X[W])}var m=new Array(i.length),f=[],y=0;i.forEach((p,X)=>{Gt.hasOwnProperty(p)?m[X]=Gt[p]:(f.push(p),wt.hasOwnProperty(p)||(wt[p]=[]),wt[p].push(()=>{m[X]=Gt[p],++y,y===f.length&&d(m)}))}),f.length===0&&d(m)},Ki=s=>{var i=ee[s];delete ee[s];var c=i.rawConstructor,d=i.rawDestructor,m=i.fields,f=m.map(y=>y.getterReturnType).concat(m.map(y=>y.setterArgumentType));It([s],f,y=>{var p={};return m.forEach((X,W)=>{var w=X.fieldName,x=y[W],N=y[W].optional,M=X.getter,j=X.getterContext,$=y[W+m.length],A=X.setter,q=X.setterContext;p[w]={read:pt=>x.fromWireType(M(j,pt)),write:(pt,et)=>{var at=[];A(q,pt,$.toWireType(at,et)),Ke(at)},optional:N}}),[{name:i.name,fromWireType:X=>{var W={};for(var w in p)W[w]=p[w].read(X);return d(X),W},toWireType:(X,W)=>{for(var w in p)if(!(w in W)&&!p[w].optional)throw new TypeError(`Missing field: "${w}"`);var x=c();for(w in p)p[w].write(x,W[w]);return X!==null&&X.push(d,x),x},argPackAdvance:mt,readValueFromPointer:kt,destructorFunction:d}]})},Ji=(s,i,c,d,m)=>{},vi=()=>{for(var s=new Array(256),i=0;i<256;++i)s[i]=String.fromCharCode(i);wn=s},wn,tt=s=>{for(var i="",c=s;K[c];)i+=wn[K[c++]];return i},Ft=class extends Error{constructor(s){super(s),this.name="BindingError"}},Q=s=>{throw new Ft(s)};function ki(s,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var d=i.name;if(s||Q(`type "${d}" must have a positive integer typeid pointer`),Gt.hasOwnProperty(s)){if(c.ignoreDuplicateRegistrations)return;Q(`Cannot register type '${d}' twice`)}if(Gt[s]=i,delete ne[s],wt.hasOwnProperty(s)){var m=wt[s];delete wt[s],m.forEach(f=>f())}}function dt(s,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ki(s,i,c)}var mt=8,Fi=(s,i,c,d)=>{i=tt(i),dt(s,{name:i,fromWireType:function(m){return!!m},toWireType:function(m,f){return f?c:d},argPackAdvance:mt,readValueFromPointer:function(m){return this.fromWireType(K[m])},destructorFunction:null})},Bi=s=>({count:s.count,deleteScheduled:s.deleteScheduled,preservePointerOnDelete:s.preservePointerOnDelete,ptr:s.ptr,ptrType:s.ptrType,smartPtr:s.smartPtr,smartPtrType:s.smartPtrType}),Je=s=>{function i(c){return c.$$.ptrType.registeredClass.name}Q(i(s)+" instance already deleted")},ve=!1,Yn=s=>{},Ei=s=>{s.smartPtr?s.smartPtrType.rawDestructor(s.smartPtr):s.ptrType.registeredClass.rawDestructor(s.ptr)},Hn=s=>{s.count.value-=1;var i=s.count.value===0;i&&Ei(s)},Bt=s=>typeof FinalizationRegistry>"u"?(Bt=i=>i,s):(ve=new FinalizationRegistry(i=>{Hn(i.$$)}),Bt=i=>{var c=i.$$,d=!!c.smartPtr;if(d){var m={$$:c};ve.register(i,m,i)}return i},Yn=i=>ve.unregister(i),Bt(s)),Ni=()=>{let s=ie.prototype;Object.assign(s,{isAliasOf(c){if(!(this instanceof ie)||!(c instanceof ie))return!1;var d=this.$$.ptrType.registeredClass,m=this.$$.ptr;c.$$=c.$$;for(var f=c.$$.ptrType.registeredClass,y=c.$$.ptr;d.baseClass;)m=d.upcast(m),d=d.baseClass;for(;f.baseClass;)y=f.upcast(y),f=f.baseClass;return d===f&&m===y},clone(){if(this.$$.ptr||Je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var c=Bt(Object.create(Object.getPrototypeOf(this),{$$:{value:Bi(this.$$)}}));return c.$$.count.value+=1,c.$$.deleteScheduled=!1,c},delete(){this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Q("Object already scheduled for deletion"),Yn(this),Hn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Q("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}});const i=Symbol.dispose;i&&(s[i]=s.delete)};function ie(){}var ke=(s,i)=>Object.defineProperty(i,"name",{value:s}),Vn={},Pn=(s,i,c)=>{if(s[i].overloadTable===void 0){var d=s[i];s[i]=function(){for(var m=arguments.length,f=new Array(m),y=0;y<m;y++)f[y]=arguments[y];return s[i].overloadTable.hasOwnProperty(f.length)||Q(`Function '${c}' called with an invalid number of arguments (${f.length}) - expects one of (${s[i].overloadTable})!`),s[i].overloadTable[f.length].apply(this,f)},s[i].overloadTable=[],s[i].overloadTable[d.argCount]=d}},xn=(s,i,c)=>{n.hasOwnProperty(s)?((c===void 0||n[s].overloadTable!==void 0&&n[s].overloadTable[c]!==void 0)&&Q(`Cannot register public name '${s}' twice`),Pn(n,s,s),n[s].overloadTable.hasOwnProperty(c)&&Q(`Cannot register multiple overloads of a function with the same number of arguments (${c})!`),n[s].overloadTable[c]=i):(n[s]=i,n[s].argCount=c)},Ui=48,Mi=57,Qi=s=>{s=s.replace(/[^a-zA-Z0-9_]/g,"$");var i=s.charCodeAt(0);return i>=Ui&&i<=Mi?`_${s}`:s};function zi(s,i,c,d,m,f,y,p){this.name=s,this.constructor=i,this.instancePrototype=c,this.rawDestructor=d,this.baseClass=m,this.getActualType=f,this.upcast=y,this.downcast=p,this.pureVirtualFunctions=[]}var Fe=(s,i,c)=>{for(;i!==c;)i.upcast||Q(`Expected null or instance of ${c.name}, got an instance of ${i.name}`),s=i.upcast(s),i=i.baseClass;return s},Be=s=>{if(s===null)return"null";var i=typeof s;return i==="object"||i==="array"||i==="function"?s.toString():""+s};function ji(s,i){if(i===null)return this.isReference&&Q(`null is not a valid ${this.name}`),0;i.$$||Q(`Cannot pass "${Be(i)}" as a ${this.name}`),i.$$.ptr||Q(`Cannot pass deleted object as a pointer of type ${this.name}`);var c=i.$$.ptrType.registeredClass,d=Fe(i.$$.ptr,c,this.registeredClass);return d}function Oi(s,i){var c;if(i===null)return this.isReference&&Q(`null is not a valid ${this.name}`),this.isSmartPointer?(c=this.rawConstructor(),s!==null&&s.push(this.rawDestructor,c),c):0;(!i||!i.$$)&&Q(`Cannot pass "${Be(i)}" as a ${this.name}`),i.$$.ptr||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&i.$$.ptrType.isConst&&Q(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);var d=i.$$.ptrType.registeredClass;if(c=Fe(i.$$.ptr,d,this.registeredClass),this.isSmartPointer)switch(i.$$.smartPtr===void 0&&Q("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:i.$$.smartPtrType===this?c=i.$$.smartPtr:Q(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:c=i.$$.smartPtr;break;case 2:if(i.$$.smartPtrType===this)c=i.$$.smartPtr;else{var m=i.clone();c=this.rawShare(c,ft.toHandle(()=>m.delete())),s!==null&&s.push(this.rawDestructor,c)}break;default:Q("Unsupporting sharing policy")}return c}function Ai(s,i){if(i===null)return this.isReference&&Q(`null is not a valid ${this.name}`),0;i.$$||Q(`Cannot pass "${Be(i)}" as a ${this.name}`),i.$$.ptr||Q(`Cannot pass deleted object as a pointer of type ${this.name}`),i.$$.ptrType.isConst&&Q(`Cannot convert argument of type ${i.$$.ptrType.name} to parameter type ${this.name}`);var c=i.$$.ptrType.registeredClass,d=Fe(i.$$.ptr,c,this.registeredClass);return d}var Kn=(s,i,c)=>{if(i===c)return s;if(c.baseClass===void 0)return null;var d=Kn(s,i,c.baseClass);return d===null?null:c.downcast(d)},Di={},$i=(s,i)=>{for(i===void 0&&Q("ptr should not be undefined");s.baseClass;)i=s.upcast(i),s=s.baseClass;return i},_i=(s,i)=>(i=$i(s,i),Di[i]),se=(s,i)=>{(!i.ptrType||!i.ptr)&&re("makeClassHandle requires ptr and ptrType");var c=!!i.smartPtrType,d=!!i.smartPtr;return c!==d&&re("Both smartPtrType and smartPtr must be specified"),i.count={value:1},Bt(Object.create(s,{$$:{value:i,writable:!0}}))};function qi(s){var i=this.getPointee(s);if(!i)return this.destructor(s),null;var c=_i(this.registeredClass,i);if(c!==void 0){if(c.$$.count.value===0)return c.$$.ptr=i,c.$$.smartPtr=s,c.clone();var d=c.clone();return this.destructor(s),d}function m(){return this.isSmartPointer?se(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:i,smartPtrType:this,smartPtr:s}):se(this.registeredClass.instancePrototype,{ptrType:this,ptr:s})}var f=this.registeredClass.getActualType(i),y=Vn[f];if(!y)return m.call(this);var p;this.isConst?p=y.constPointerType:p=y.pointerType;var X=Kn(i,this.registeredClass,p.registeredClass);return X===null?m.call(this):this.isSmartPointer?se(p.registeredClass.instancePrototype,{ptrType:p,ptr:X,smartPtrType:this,smartPtr:s}):se(p.registeredClass.instancePrototype,{ptrType:p,ptr:X})}var ts=()=>{Object.assign(oe.prototype,{getPointee(s){return this.rawGetPointee&&(s=this.rawGetPointee(s)),s},destructor(s){var i;(i=this.rawDestructor)===null||i===void 0||i.call(this,s)},argPackAdvance:mt,readValueFromPointer:kt,fromWireType:qi})};function oe(s,i,c,d,m,f,y,p,X,W,w){this.name=s,this.registeredClass=i,this.isReference=c,this.isConst=d,this.isSmartPointer=m,this.pointeeType=f,this.sharingPolicy=y,this.rawGetPointee=p,this.rawConstructor=X,this.rawShare=W,this.rawDestructor=w,!m&&i.baseClass===void 0?d?(this.toWireType=ji,this.destructorFunction=null):(this.toWireType=Ai,this.destructorFunction=null):this.toWireType=Oi}var Jn=(s,i,c)=>{n.hasOwnProperty(s)||re("Replacing nonexistent public symbol"),n[s].overloadTable!==void 0&&c!==void 0?n[s].overloadTable[c]=i:(n[s]=i,n[s].argCount=c)},vn=[],kn,E=s=>{var i=vn[s];return i||(vn[s]=i=kn.get(s)),i},es=function(s,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(s.includes("j"))return dynCallLegacy(s,i,c);var d=E(i),m=d(...c);return m},ns=function(s,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function(){for(var d=arguments.length,m=new Array(d),f=0;f<d;f++)m[f]=arguments[f];return es(s,i,m,c)}},ct=function(s,i){s=tt(s);function c(){if(s.includes("j"))return ns(s,i);var m=E(i);return m}var d=c();return typeof d!="function"&&Q(`unknown function pointer with signature ${s}: ${i}`),d};class rs extends Error{}var Fn=s=>{var i=ro(s),c=tt(i);return Wt(i),c},ae=(s,i)=>{var c=[],d={};function m(f){if(!d[f]&&!Gt[f]){if(ne[f]){ne[f].forEach(m);return}c.push(f),d[f]=!0}}throw i.forEach(m),new rs(`${s}: `+c.map(Fn).join([", "]))},is=(s,i,c,d,m,f,y,p,X,W,w,x,N)=>{w=tt(w),f=ct(m,f),p&&(p=ct(y,p)),W&&(W=ct(X,W)),N=ct(x,N);var M=Qi(w);xn(M,function(){ae(`Cannot construct ${w} due to unbound types`,[d])}),It([s,i,c],d?[d]:[],j=>{j=j[0];var $,A;d?($=j.registeredClass,A=$.instancePrototype):A=ie.prototype;var q=ke(w,function(){if(Object.getPrototypeOf(this)!==pt)throw new Ft(`Use 'new' to construct ${w}`);if(et.constructor_body===void 0)throw new Ft(`${w} has no accessible constructor`);for(var _n=arguments.length,le=new Array(_n),de=0;de<_n;de++)le[de]=arguments[de];var qn=et.constructor_body[le.length];if(qn===void 0)throw new Ft(`Tried to invoke ctor of ${w} with invalid number of parameters (${le.length}) - expected (${Object.keys(et.constructor_body).toString()}) parameters instead!`);return qn.apply(this,le)}),pt=Object.create(A,{constructor:{value:q}});q.prototype=pt;var et=new zi(w,q,pt,N,$,f,p,W);if(et.baseClass){var at,ce;(ce=(at=et.baseClass).__derivedClasses)!==null&&ce!==void 0||(at.__derivedClasses=[]),et.baseClass.__derivedClasses.push(et)}var Do=new oe(w,et,!0,!1,!1),Dn=new oe(w+"*",et,!1,!1,!1),$n=new oe(w+" const*",et,!1,!0,!1);return Vn[s]={pointerType:Dn,constPointerType:$n},Jn(M,q),[Do,Dn,$n]})},Ee=(s,i)=>{for(var c=[],d=0;d<s;d++)c.push(v[i+d*4>>2]);return c};function ss(s){for(var i=1;i<s.length;++i)if(s[i]!==null&&s[i].destructorFunction===void 0)return!0;return!1}function Ne(s,i,c,d,m,f){var y=i.length;y<2&&Q("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=i[1]!==null&&c!==null,X=ss(i),W=i[0].name!=="void",w=y-2,x=new Array(w),N=[],M=[],j=function(){M.length=0;var $;N.length=p?2:1,N[0]=m,p&&($=i[1].toWireType(M,this),N[1]=$);for(var A=0;A<w;++A)x[A]=i[A+2].toWireType(M,A<0||arguments.length<=A?void 0:arguments[A]),N.push(x[A]);var q=d(...N);function pt(et){if(X)Ke(M);else for(var at=p?1:2;at<i.length;at++){var ce=at===1?$:x[at-2];i[at].destructorFunction!==null&&i[at].destructorFunction(ce)}if(W)return i[0].fromWireType(et)}return pt(q)};return ke(s,j)}var os=(s,i,c,d,m,f)=>{var y=Ee(i,c);m=ct(d,m),It([],[s],p=>{p=p[0];var X=`constructor ${p.name}`;if(p.registeredClass.constructor_body===void 0&&(p.registeredClass.constructor_body=[]),p.registeredClass.constructor_body[i-1]!==void 0)throw new Ft(`Cannot register multiple constructors with identical number of parameters (${i-1}) for class '${p.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return p.registeredClass.constructor_body[i-1]=()=>{ae(`Cannot construct ${p.name} due to unbound types`,y)},It([],y,W=>(W.splice(1,0,null),p.registeredClass.constructor_body[i-1]=Ne(X,W,null,m,f),[])),[]})},Bn=s=>{s=s.trim();const i=s.indexOf("(");return i===-1?s:s.slice(0,i)},as=(s,i,c,d,m,f,y,p,X,W)=>{var w=Ee(c,d);i=tt(i),i=Bn(i),f=ct(m,f),It([],[s],x=>{x=x[0];var N=`${x.name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]),p&&x.registeredClass.pureVirtualFunctions.push(i);function M(){ae(`Cannot call ${N} due to unbound types`,w)}var j=x.registeredClass.instancePrototype,$=j[i];return $===void 0||$.overloadTable===void 0&&$.className!==x.name&&$.argCount===c-2?(M.argCount=c-2,M.className=x.name,j[i]=M):(Pn(j,i,N),j[i].overloadTable[c-2]=M),It([],w,A=>{var q=Ne(N,A,x,f,y);return j[i].overloadTable===void 0?(q.argCount=c-2,j[i]=q):j[i].overloadTable[c-2]=q,[]}),[]})},En=[],St=[0,1,,1,null,1,!0,1,!1,1],Ue=s=>{s>9&&--St[s+1]===0&&(St[s]=void 0,En.push(s))},ft={toValue:s=>(s||Q(`Cannot use deleted val. handle = ${s}`),St[s]),toHandle:s=>{switch(s){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const i=En.pop()||St.length;return St[i]=s,St[i+1]=1,i}}}},Nn={name:"emscripten::val",fromWireType:s=>{var i=ft.toValue(s);return Ue(s),i},toWireType:(s,i)=>ft.toHandle(i),argPackAdvance:mt,readValueFromPointer:kt,destructorFunction:null},cs=s=>dt(s,Nn),ls=(s,i)=>{switch(i){case 4:return function(c){return this.fromWireType(yt[c>>2])};case 8:return function(c){return this.fromWireType(Tt[c>>3])};default:throw new TypeError(`invalid float width (${i}): ${s}`)}},ds=(s,i,c)=>{i=tt(i),dt(s,{name:i,fromWireType:d=>d,toWireType:(d,m)=>m,argPackAdvance:mt,readValueFromPointer:ls(i,c),destructorFunction:null})},us=(s,i,c,d,m,f,y,p)=>{var X=Ee(i,c);s=tt(s),s=Bn(s),m=ct(d,m),xn(s,function(){ae(`Cannot call ${s} due to unbound types`,X)},i-1),It([],X,W=>{var w=[W[0],null].concat(W.slice(1));return Jn(s,Ne(s,w,null,m,f),i-1),[]})},hs=(s,i,c)=>{switch(i){case 1:return c?d=>P[d]:d=>K[d];case 2:return c?d=>U[d>>1]:d=>O[d>>1];case 4:return c?d=>_[d>>2]:d=>v[d>>2];default:throw new TypeError(`invalid integer width (${i}): ${s}`)}},ms=(s,i,c,d,m)=>{i=tt(i);const f=d===0;let y=X=>X;if(f){var p=32-8*c;y=X=>X<<p>>>p,m=y(m)}dt(s,{name:i,fromWireType:y,toWireType:(X,W)=>W,argPackAdvance:mt,readValueFromPointer:hs(i,c,d!==0),destructorFunction:null})},fs=(s,i,c)=>{var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],m=d[i];function f(y){var p=v[y>>2],X=v[y+4>>2];return new m(P.buffer,X,p)}c=tt(c),dt(s,{name:c,fromWireType:f,argPackAdvance:mt,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})},ps=Object.assign({optional:!0},Nn),ys=(s,i)=>{dt(s,ps)},bs=(s,i,c,d)=>{if(!(d>0))return 0;for(var m=c,f=c+d-1,y=0;y<s.length;++y){var p=s.charCodeAt(y);if(p>=55296&&p<=57343){var X=s.charCodeAt(++y);p=65536+((p&1023)<<10)|X&1023}if(p<=127){if(c>=f)break;i[c++]=p}else if(p<=2047){if(c+1>=f)break;i[c++]=192|p>>6,i[c++]=128|p&63}else if(p<=65535){if(c+2>=f)break;i[c++]=224|p>>12,i[c++]=128|p>>6&63,i[c++]=128|p&63}else{if(c+3>=f)break;i[c++]=240|p>>18,i[c++]=128|p>>12&63,i[c++]=128|p>>6&63,i[c++]=128|p&63}}return i[c]=0,c-m},Yt=(s,i,c)=>bs(s,K,i,c),Un=s=>{for(var i=0,c=0;c<s.length;++c){var d=s.charCodeAt(c);d<=127?i++:d<=2047?i+=2:d>=55296&&d<=57343?(i+=4,++c):i+=3}return i},Mn=typeof TextDecoder<"u"?new TextDecoder:void 0,Qn=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var d=i+c,m=i;s[m]&&!(m>=d);)++m;if(m-i>16&&s.buffer&&Mn)return Mn.decode(s.subarray(i,m));for(var f="";i<m;){var y=s[i++];if(!(y&128)){f+=String.fromCharCode(y);continue}var p=s[i++]&63;if((y&224)==192){f+=String.fromCharCode((y&31)<<6|p);continue}var X=s[i++]&63;if((y&240)==224?y=(y&15)<<12|p<<6|X:y=(y&7)<<18|p<<12|X<<6|s[i++]&63,y<65536)f+=String.fromCharCode(y);else{var W=y-65536;f+=String.fromCharCode(55296|W>>10,56320|W&1023)}}return f},gs=(s,i)=>s?Qn(K,s,i):"",Zs=(s,i)=>{i=tt(i),dt(s,{name:i,fromWireType(c){for(var d=v[c>>2],m=c+4,f,p,y=m,p=0;p<=d;++p){var X=m+p;if(p==d||K[X]==0){var W=X-y,w=gs(y,W);f===void 0?f=w:(f+="\0",f+=w),y=X+1}}return Wt(c),f},toWireType(c,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var m,f=typeof d=="string";f||ArrayBuffer.isView(d)&&d.BYTES_PER_ELEMENT==1||Q("Cannot pass non-string to std::string"),f?m=Un(d):m=d.length;var y=An(4+m+1),p=y+4;return v[y>>2]=m,f?Yt(d,p,m+1):K.set(d,p),c!==null&&c.push(Wt,y),y},argPackAdvance:mt,readValueFromPointer:kt,destructorFunction(c){Wt(c)}})},zn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Xs=(s,i)=>{for(var c=s>>1,d=c+i/2,m=c;!(m>=d)&&O[m];)++m;if(m-c>16&&zn)return zn.decode(O.subarray(c,m));for(var f="",y=c;!(y>=d);++y){var p=O[y];if(p==0)break;f+=String.fromCharCode(p)}return f},Gs=(s,i,c)=>{if(c!=null||(c=2147483647),c<2)return 0;c-=2;for(var d=i,m=c<s.length*2?c/2:s.length,f=0;f<m;++f){var y=s.charCodeAt(f);U[i>>1]=y,i+=2}return U[i>>1]=0,i-d},Is=s=>s.length*2,Ss=(s,i)=>{for(var c=0,d="";!(c>=i/4);){var m=_[s+c*4>>2];if(m==0)break;if(++c,m>=65536){var f=m-65536;d+=String.fromCharCode(55296|f>>10,56320|f&1023)}else d+=String.fromCharCode(m)}return d},Ws=(s,i,c)=>{if(c!=null||(c=2147483647),c<4)return 0;for(var d=i,m=d+c-4,f=0;f<s.length;++f){var y=s.charCodeAt(f);if(y>=55296&&y<=57343){var p=s.charCodeAt(++f);y=65536+((y&1023)<<10)|p&1023}if(_[i>>2]=y,i+=4,i+4>m)break}return _[i>>2]=0,i-d},Rs=s=>{for(var i=0,c=0;c<s.length;++c){var d=s.charCodeAt(c);d>=55296&&d<=57343&&++c,i+=4}return i},Cs=(s,i,c)=>{c=tt(c);var d,m,f,y;i===2?(d=Xs,m=Gs,y=Is,f=p=>O[p>>1]):i===4&&(d=Ss,m=Ws,y=Rs,f=p=>v[p>>2]),dt(s,{name:c,fromWireType:p=>{for(var X=v[p>>2],W,w=p+4,x=0;x<=X;++x){var N=p+4+x*i;if(x==X||f(N)==0){var M=N-w,j=d(w,M);W===void 0?W=j:(W+="\0",W+=j),w=N+i}}return Wt(p),W},toWireType:(p,X)=>{typeof X!="string"&&Q(`Cannot pass non-string to C++ string type ${c}`);var W=y(X),w=An(4+W+i);return v[w>>2]=W/i,m(X,w+4,W+i),p!==null&&p.push(Wt,w),w},argPackAdvance:mt,readValueFromPointer:kt,destructorFunction(p){Wt(p)}})},Ls=(s,i,c,d,m,f)=>{ee[s]={name:tt(i),rawConstructor:ct(c,d),rawDestructor:ct(m,f),fields:[]}},Ts=(s,i,c,d,m,f,y,p,X,W)=>{ee[s].fields.push({fieldName:tt(i),getterReturnType:c,getter:ct(d,m),getterContext:f,setterArgumentType:y,setter:ct(p,X),setterContext:W})},ws=(s,i)=>{i=tt(i),dt(s,{isVoid:!0,name:i,argPackAdvance:0,fromWireType:()=>{},toWireType:(c,d)=>{}})},Me=[],Ys=(s,i,c,d)=>(s=Me[s],i=ft.toValue(i),s(null,i,c,d)),Hs={},Vs=s=>{var i=Hs[s];return i===void 0?tt(s):i},jn=()=>{if(typeof globalThis=="object")return globalThis;function s(i){i.$$$embind_global$$$=i;var c=typeof $$$embind_global$$$=="object"&&i.$$$embind_global$$$==i;return c||delete i.$$$embind_global$$$,c}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&s(global)?$$$embind_global$$$=global:typeof self=="object"&&s(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Ps=s=>s===0?ft.toHandle(jn()):(s=Vs(s),ft.toHandle(jn()[s])),xs=s=>{var i=Me.length;return Me.push(s),i},On=(s,i)=>{var c=Gt[s];return c===void 0&&Q(`${i} has unknown type ${Fn(s)}`),c},Ks=(s,i)=>{for(var c=new Array(s),d=0;d<s;++d)c[d]=On(v[i+d*4>>2],`parameter ${d}`);return c},Js=(s,i,c)=>{var d=[],m=s.toWireType(d,c);return d.length&&(v[i>>2]=ft.toHandle(d)),m},vs=Reflect.construct,ks=(s,i,c)=>{var d=Ks(s,i),m=d.shift();s--;var f=new Array(s),y=(X,W,w,x)=>{for(var N=0,M=0;M<s;++M)f[M]=d[M].readValueFromPointer(x+N),N+=d[M].argPackAdvance;var j=c===1?vs(W,f):W.apply(X,f);return Js(m,w,j)},p=`methodCaller<(${d.map(X=>X.name).join(", ")}) => ${m.name}>`;return xs(ke(p,y))},Fs=s=>{s>9&&(St[s+1]+=1)},Bs=s=>{var i=ft.toValue(s);Ke(i),Ue(s)},Es=(s,i)=>{s=On(s,"_emval_take_value");var c=s.readValueFromPointer(i);return ft.toHandle(c)},Ns=(s,i,c,d)=>{var m=new Date().getFullYear(),f=new Date(m,0,1),y=new Date(m,6,1),p=f.getTimezoneOffset(),X=y.getTimezoneOffset(),W=Math.max(p,X);v[s>>2]=W*60,_[i>>2]=+(p!=X);var w=M=>{var j=M>=0?"-":"+",$=Math.abs(M),A=String(Math.floor($/60)).padStart(2,"0"),q=String($%60).padStart(2,"0");return`UTC${j}${A}${q}`},x=w(p),N=w(X);X<p?(Yt(x,c,17),Yt(N,d,17)):(Yt(x,d,17),Yt(N,c,17))},Us=()=>2147483648,Ms=(s,i)=>Math.ceil(s/i)*i,Qs=s=>{var i=Y.buffer,c=(s-i.byteLength+65535)/65536|0;try{return Y.grow(c),ot(),1}catch{}},zs=s=>{var i=K.length;s>>>=0;var c=Us();if(s>c)return!1;for(var d=1;d<=4;d*=2){var m=i*(1+.2/d);m=Math.min(m,s+100663296);var f=Math.min(c,Ms(Math.max(s,m),65536)),y=Qs(f);if(y)return!0}return!1},Qe={},js=()=>g||"./this.program",Et=()=>{if(!Et.strings){var s=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:s,_:js()};for(var c in Qe)Qe[c]===void 0?delete i[c]:i[c]=Qe[c];var d=[];for(var c in i)d.push(`${c}=${i[c]}`);Et.strings=d}return Et.strings},Os=(s,i)=>{var c=0,d=0;for(var m of Et()){var f=i+c;v[s+d>>2]=f,c+=Yt(m,f,1/0)+1,d+=4}return 0},As=(s,i)=>{var c=Et();v[s>>2]=c.length;var d=0;for(var m of c)d+=Un(m)+1;return v[i>>2]=d,0},Ds=s=>52;function $s(s,i,c,d,m){return 70}var _s=[null,[],[]],qs=(s,i)=>{var c=_s[s];i===0||i===10?((s===1?R:C)(Qn(c)),c.length=0):c.push(i)},to=(s,i,c,d)=>{for(var m=0,f=0;f<c;f++){var y=v[i>>2],p=v[i+4>>2];i+=8;for(var X=0;X<p;X++)qs(s,K[y+X]);m+=p}return v[d>>2]=m,0},eo=s=>s;vi(),Ni(),ts(),n.noExitRuntime&&n.noExitRuntime,n.print&&(R=n.print),n.printErr&&(C=n.printErr),n.wasmBinary&&(H=n.wasmBinary),n.arguments&&n.arguments,n.thisProgram&&(g=n.thisProgram);var no={s:Wi,w:Ri,a:Ci,j:Li,m:Ti,P:wi,p:Yi,ga:Hi,d:Vi,ba:Pi,ua:Ki,aa:Ji,pa:Fi,sa:is,ra:os,H:as,na:cs,V:ds,W:us,x:ms,t:fs,ta:ys,oa:Zs,Q:Cs,I:Ls,va:Ts,qa:ws,da:Ys,wa:Ue,D:Ps,ma:ks,X:Fs,Y:Bs,U:Es,ca:Ns,ha:zs,ea:Os,fa:As,ia:Ds,_:$s,S:to,K:vo,C:Fo,M:yo,R:Qo,q:Po,b:Zo,E:Jo,ka:Eo,c:Xo,ja:No,h:po,i:Wo,r:To,O:Ko,v:Yo,F:Vo,L:xo,z:Bo,J:zo,$:jo,Z:Oo,k:Go,f:fo,e:go,g:bo,N:Mo,l:So,la:ko,o:wo,B:Ro,u:Ho,T:Lo,A:Uo,n:Io,G:Co,y:eo},z=await Gi();z.ya;var ro=z.za,Wt=n._free=z.Aa,An=n._malloc=z.Ca,io=z.Da,k=z.Ea,so=z.Fa,oo=z.Ga,ao=z.Ha,co=z.Ia,lo=z.Ja,uo=z.Ka;n.dynCall_viijii=z.La;var ho=n.dynCall_iiijj=z.Ma;n.dynCall_jiji=z.Na;var mo=n.dynCall_jiiii=z.Oa;n.dynCall_iiiiij=z.Pa,n.dynCall_iiiiijj=z.Qa,n.dynCall_iiiiiijj=z.Ra;function fo(s,i){var c=B();try{E(s)(i)}catch(d){if(F(c),d!==d+0)throw d;k(1,0)}}function po(s,i,c,d){var m=B();try{return E(s)(i,c,d)}catch(f){if(F(m),f!==f+0)throw f;k(1,0)}}function yo(s,i,c,d,m){var f=B();try{return E(s)(i,c,d,m)}catch(y){if(F(f),y!==y+0)throw y;k(1,0)}}function bo(s,i,c,d){var m=B();try{E(s)(i,c,d)}catch(f){if(F(m),f!==f+0)throw f;k(1,0)}}function go(s,i,c){var d=B();try{E(s)(i,c)}catch(m){if(F(d),m!==m+0)throw m;k(1,0)}}function Zo(s,i){var c=B();try{return E(s)(i)}catch(d){if(F(c),d!==d+0)throw d;k(1,0)}}function Xo(s,i,c){var d=B();try{return E(s)(i,c)}catch(m){if(F(d),m!==m+0)throw m;k(1,0)}}function Go(s){var i=B();try{E(s)()}catch(c){if(F(i),c!==c+0)throw c;k(1,0)}}function Io(s,i,c,d,m,f,y,p,X,W,w){var x=B();try{E(s)(i,c,d,m,f,y,p,X,W,w)}catch(N){if(F(x),N!==N+0)throw N;k(1,0)}}function So(s,i,c,d,m){var f=B();try{E(s)(i,c,d,m)}catch(y){if(F(f),y!==y+0)throw y;k(1,0)}}function Wo(s,i,c,d,m){var f=B();try{return E(s)(i,c,d,m)}catch(y){if(F(f),y!==y+0)throw y;k(1,0)}}function Ro(s,i,c,d,m,f,y){var p=B();try{E(s)(i,c,d,m,f,y)}catch(X){if(F(p),X!==X+0)throw X;k(1,0)}}function Co(s,i,c,d,m,f,y,p,X,W,w,x,N,M,j,$){var A=B();try{E(s)(i,c,d,m,f,y,p,X,W,w,x,N,M,j,$)}catch(q){if(F(A),q!==q+0)throw q;k(1,0)}}function Lo(s,i,c,d,m,f,y,p,X){var W=B();try{E(s)(i,c,d,m,f,y,p,X)}catch(w){if(F(W),w!==w+0)throw w;k(1,0)}}function To(s,i,c,d,m,f){var y=B();try{return E(s)(i,c,d,m,f)}catch(p){if(F(y),p!==p+0)throw p;k(1,0)}}function wo(s,i,c,d,m,f){var y=B();try{E(s)(i,c,d,m,f)}catch(p){if(F(y),p!==p+0)throw p;k(1,0)}}function Yo(s,i,c,d,m,f,y){var p=B();try{return E(s)(i,c,d,m,f,y)}catch(X){if(F(p),X!==X+0)throw X;k(1,0)}}function Ho(s,i,c,d,m,f,y,p){var X=B();try{E(s)(i,c,d,m,f,y,p)}catch(W){if(F(X),W!==W+0)throw W;k(1,0)}}function Vo(s,i,c,d,m,f,y,p){var X=B();try{return E(s)(i,c,d,m,f,y,p)}catch(W){if(F(X),W!==W+0)throw W;k(1,0)}}function Po(s){var i=B();try{return E(s)()}catch(c){if(F(i),c!==c+0)throw c;k(1,0)}}function xo(s,i,c,d,m,f,y,p,X){var W=B();try{return E(s)(i,c,d,m,f,y,p,X)}catch(w){if(F(W),w!==w+0)throw w;k(1,0)}}function Ko(s,i,c,d,m,f,y){var p=B();try{return E(s)(i,c,d,m,f,y)}catch(X){if(F(p),X!==X+0)throw X;k(1,0)}}function Jo(s,i,c,d){var m=B();try{return E(s)(i,c,d)}catch(f){if(F(m),f!==f+0)throw f;k(1,0)}}function vo(s,i,c,d){var m=B();try{return E(s)(i,c,d)}catch(f){if(F(m),f!==f+0)throw f;k(1,0)}}function ko(s,i,c,d,m,f,y,p){var X=B();try{E(s)(i,c,d,m,f,y,p)}catch(W){if(F(X),W!==W+0)throw W;k(1,0)}}function Fo(s,i,c,d,m,f){var y=B();try{return E(s)(i,c,d,m,f)}catch(p){if(F(y),p!==p+0)throw p;k(1,0)}}function Bo(s,i,c,d,m,f,y,p,X,W){var w=B();try{return E(s)(i,c,d,m,f,y,p,X,W)}catch(x){if(F(w),x!==x+0)throw x;k(1,0)}}function Eo(s,i,c){var d=B();try{return E(s)(i,c)}catch(m){if(F(d),m!==m+0)throw m;k(1,0)}}function No(s,i,c,d,m){var f=B();try{return E(s)(i,c,d,m)}catch(y){if(F(f),y!==y+0)throw y;k(1,0)}}function Uo(s,i,c,d,m,f,y,p,X,W){var w=B();try{E(s)(i,c,d,m,f,y,p,X,W)}catch(x){if(F(w),x!==x+0)throw x;k(1,0)}}function Mo(s,i,c,d,m,f,y){var p=B();try{E(s)(i,c,d,m,f,y)}catch(X){if(F(p),X!==X+0)throw X;k(1,0)}}function Qo(s,i,c,d){var m=B();try{return E(s)(i,c,d)}catch(f){if(F(m),f!==f+0)throw f;k(1,0)}}function zo(s,i,c,d,m,f,y,p,X,W,w,x){var N=B();try{return E(s)(i,c,d,m,f,y,p,X,W,w,x)}catch(M){if(F(N),M!==M+0)throw M;k(1,0)}}function jo(s,i,c,d,m,f,y){var p=B();try{return ho(s,i,c,d,m,f,y)}catch(X){if(F(p),X!==X+0)throw X;k(1,0)}}function Oo(s,i,c,d,m){var f=B();try{return mo(s,i,c,d,m)}catch(y){if(F(f),y!==y+0)throw y;k(1,0)}}function ze(){if(Xt>0){vt=ze;return}if(di(),Xt>0){vt=ze;return}function s(){var i;n.calledRun=!0,!V&&(ui(),o(n),(i=n.onRuntimeInitialized)===null||i===void 0||i.call(n),hi())}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),s()},1)):s()}function Ao(){if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.shift()()}return Ao(),ze(),e=l,e};function Ut(t){return zr(jr,t)}async function br(t,e){return Qc(jr,t,e)}const zc=!0;function jc(){return{isScanning:!1,isSupported:!1,scannerType:"zxing-wasm",status:"Ready",isMobile:!1,stream:null,videoTrack:null,worker:null,useMainThreadWasm:!1,decodeIntervalId:null,lastScannedCode:null,lastScannedTime:0,debounceDelay:2e3,roiFraction:{w:.6,h:.3},cadenceMs:80,torchSupported:!1,torchEnabled:!1,async init(){this.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),await this.checkCameraSupport(),this.isSupported&&(this.useMainThreadWasm=zc)},ensureReadyOnOpenHandler:null,registerOpenHandlerOnce(){this.ensureReadyOnOpenHandler||(this.ensureReadyOnOpenHandler=()=>{this.useMainThreadWasm&&Ut({fireImmediately:!0}).catch(()=>{})},window.addEventListener("scanner-open",this.ensureReadyOnOpenHandler,{passive:!0}))},async checkCameraSupport(){var t;if(!((t=navigator.mediaDevices)!=null&&t.getUserMedia)){this.status="Camera API not available",this.isSupported=!1;return}if(location.protocol!=="https:"&&location.hostname!=="localhost"&&location.hostname!=="127.0.0.1"){this.status="Camera requires HTTPS",this.isSupported=!1;return}this.isSupported=!0,this.status="ZXing WASM scanner ready"},setupWorker(){try{this.worker=new Tc,this.worker.onmessage=t=>{const e=t.data;e&&(e.type==="ready"||(e.type==="result"?e.ok&&e.text&&this.handleScannedCode(e.text,e.format):e.type==="error"&&(this.status=`WASM error: ${e.error}`)))},this.worker.postMessage({type:"init",options:{tryHarder:!0,maxNumberOfSymbols:1,formats:["EAN-13","UPC-A","UPC-E","DataBar","DataBarExpanded","DataBarLimited"]}})}catch(t){console.error("Failed to start WASM worker (inline). Falling back to main-thread WASM.",t),this.status="Initializing WASM (main thread)...",this.useMainThreadWasm=!0,Ut({fireImmediately:!0}).then(()=>{this.status="ZXing WASM ready (main thread)"}).catch(e=>{this.status=`Failed to init WASM: ${(e==null?void 0:e.message)||"unknown error"}`,this.isSupported=!1})}},async startScanning(){if(!this.isSupported||this.isScanning)return;if(this.useMainThreadWasm&&!this.wasmReady){this.status="Initializing decoder...";try{await Ut({fireImmediately:!0}),this.wasmReady=!0}catch{this.status="Decoder init failed";return}}else!this.useMainThreadWasm&&!this.worker&&this.setupWorker();this.isScanning=!0,this.status="Starting camera...";let t={video:{facingMode:{ideal:"environment"},width:{ideal:1920,min:1280},height:{ideal:1440,min:720},frameRate:{ideal:30,min:15}}};try{this.stream=await navigator.mediaDevices.getUserMedia(t)}catch{this.stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}})}const e=this.$refs.video;e.srcObject=this.stream,e.setAttribute("playsinline",""),await e.play(),this.videoTrack=this.stream.getVideoTracks()[0],this.checkTorchSupport(),this.status="Scanning (WASM)...",this.setupVideoContainer(e),e.addEventListener("loadedmetadata",()=>this.setupVideoContainer(e),{once:!0}),this.startDecodeLoop(e)},startDecodeLoop(t){const e=async()=>{if(!this.isScanning||!t.videoWidth||!t.videoHeight)return;const{sx:r,sy:n,sw:o,sh:a}=this.computeRoi(t);try{const l=await createImageBitmap(t,r,n,o,a);if(this.worker&&!this.useMainThreadWasm)this.worker.postMessage({type:"decode",bitmap:l},[l]);else{if(!this.wasmReady)try{await Ut({fireImmediately:!0}),this.wasmReady=!0}catch{return}const u=this.bitmapToImageData(l);try{const h=await br(u,{tryHarder:!0,maxNumberOfSymbols:1,formats:["EAN-13","UPC-A","UPC-E","DataBar","DataBarExpanded","DataBarLimited"]});h&&h.length>0&&this.handleScannedCode(h[0].text,h[0].format)}catch{}}}catch{}};this.decodeIntervalId=setInterval(e,this.cadenceMs)},bitmapToImageData(t){const{width:e,height:r}=t,n=document.createElement("canvas");n.width=e,n.height=r;const o=n.getContext("2d");o.drawImage(t,0,0);const a=o.getImageData(0,0,e,r);return t.close(),a},computeRoi(t){const e=t.videoWidth,r=t.videoHeight,n=Math.floor(e*this.roiFraction.w),o=Math.floor(r*this.roiFraction.h),a=Math.floor((e-n)/2),l=Math.floor((r-o)/2);return this.updateEnhancedScanOverlay(a,l,n,o,e,r),{sx:a,sy:l,sw:n,sh:o}},handleScannedCode(t,e){const r=Date.now();if(this.lastScannedCode===t&&r-this.lastScannedTime<this.debounceDelay)return;this.lastScannedCode=t,this.lastScannedTime=r;const n=this.processBarcodeData(t,e);this.status=`Scanned: ${n.displayCode} (${n.type})`,this.stopScanning(),setTimeout(()=>{this.$dispatch("barcode-scanned",{code:n.searchCode,type:n.type,originalCode:t})},50),navigator.vibrate&&navigator.vibrate(100)},processBarcodeData(t,e){if((e||"").toLowerCase().includes("databar")){const o=this.extractPLUFromDataBar(t);if(o)return{type:"PLU",searchCode:o,displayCode:o,originalCode:t}}return/^\d{12,13}$/.test(t)?{type:"UPC",searchCode:t,displayCode:t,originalCode:t}:/^\d{4,5}$/.test(t)?{type:"PLU",searchCode:t,displayCode:t,originalCode:t}:{type:"UNKNOWN",searchCode:t,displayCode:t,originalCode:t}},extractPLUFromDataBar(t){let e=t;if(e.startsWith("01")&&e.length>=16&&(e=e.substring(2)),/^\d{14}$/.test(e)){const n=e.substring(9,13).replace(/^0+/,"")||e.substring(9,13);if(/^\d{4,5}$/.test(n))return n}if(/^\d{14}$/.test(e)){const n=e.substring(7,11).replace(/^0+/,"")||e.substring(7,11);if(/^\d{4,5}$/.test(n))return n}if(e.length>=4){const n=e.slice(-5).replace(/^0+/,"")||e.slice(-5);if(/^\d{4,5}$/.test(n))return n;const o=e.slice(-4);if(/^\d{4}$/.test(o))return o}const r=e.match(/\d{4,5}/g)||[];for(const n of r){const o=parseInt(n,10);if(o>=3e3&&o<=99999)return n.replace(/^0+/,"")||n}return null},checkTorchSupport(){if(this.videoTrack)try{const t=this.videoTrack.getCapabilities();this.torchSupported=!!t.torch}catch{}},async toggleTorch(){if(!(!this.torchSupported||!this.videoTrack))try{this.torchEnabled=!this.torchEnabled,await this.videoTrack.applyConstraints({advanced:[{torch:this.torchEnabled}]}),this.status=`Flashlight ${this.torchEnabled?"ON":"OFF"}`,setTimeout(()=>{this.isScanning&&(this.status="Scanning (WASM)...")},800)}catch{this.torchEnabled=!this.torchEnabled}},updateEnhancedScanOverlay(t,e,r,n,o,a){if(!this.$refs.enhancedScanOverlay||!this.$refs.video)return;const l=this.$refs.enhancedScanOverlay,h=this.$refs.video.getBoundingClientRect(),b=h.width,g=h.height,I=b/o,L=g/a;l.style.left=t*I+"px",l.style.top=e*L+"px",l.style.width=r*I+"px",l.style.height=n*L+"px",l.classList.remove("hidden")},setupVideoContainer(t){const e=t.parentElement,r=t.videoWidth,n=t.videoHeight;if(!e||!r||!n)return;const o=r/n,a=window.innerWidth<window.innerHeight,l=r>n;this.isMobile&&a&&l?e.style.aspectRatio=(1/o).toString():e.style.aspectRatio=o.toString(),e.style.height="auto",e.style.minHeight="unset",e.style.maxHeight="70vh"},async handleFileInput(t){var e;if(t)if(this.status="Processing image...",this.worker&&!this.useMainThreadWasm)(e=this.worker)==null||e.postMessage({type:"decodeBlob",blob:t});else{if(!this.wasmReady)try{await Ut({fireImmediately:!0}),this.wasmReady=!0}catch{this.status="Decoder init failed";return}const r=await createImageBitmap(t),n=this.bitmapToImageData(r);try{const o=await br(n,{tryHarder:!0,maxNumberOfSymbols:1,formats:["EAN-13","UPC-A","UPC-E","DataBar","DataBarExpanded","DataBarLimited"]});o&&o.length>0?this.handleScannedCode(o[0].text,o[0].format):this.status="No barcode found in image"}catch{this.status="No barcode found in image"}}},stopScanning(){if(this.isScanning=!1,this.status="Ready",this.wasmReady=!1,this.decodeIntervalId&&(clearInterval(this.decodeIntervalId),this.decodeIntervalId=null),this.stream){try{this.stream.getTracks().forEach(t=>t.stop())}catch{}this.stream=null}if(this.$refs.video){try{this.$refs.video.pause()}catch{}this.$refs.video.srcObject=null}},destroy(){var t;this.stopScanning();try{(t=this.worker)==null||t.terminate()}catch{}this.worker=null}}}var At={},Oc=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Or={},st={};let Gn;const Ac=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];st.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};st.getSymbolTotalCodewords=function(e){return Ac[e]};st.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};st.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Gn=e};st.isKanjiModeEnabled=function(){return typeof Gn<"u"};st.toSJIS=function(e){return Gn(e)};var Te={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,o){if(t.isValid(n))return n;try{return e(n)}catch{return o}}})(Te);function Ar(){this.buffer=[],this.length=0}Ar.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Dc=Ar;function Dt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Dt.prototype.set=function(t,e,r,n){const o=t*this.size+e;this.data[o]=r,n&&(this.reservedBit[o]=!0)};Dt.prototype.get=function(t,e){return this.data[t*this.size+e]};Dt.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Dt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var $c=Dt,Dr={};(function(t){const e=st.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const o=Math.floor(n/7)+2,a=e(n),l=a===145?26:Math.ceil((a-13)/(2*o-2))*2,u=[a-7];for(let h=1;h<o-1;h++)u[h]=u[h-1]-l;return u.push(6),u.reverse()},t.getPositions=function(n){const o=[],a=t.getRowColCoords(n),l=a.length;for(let u=0;u<l;u++)for(let h=0;h<l;h++)u===0&&h===0||u===0&&h===l-1||u===l-1&&h===0||o.push([a[u],a[h]]);return o}})(Dr);var $r={};const _c=st.getSymbolSize,gr=7;$r.getPositions=function(e){const r=_c(e);return[[0,0],[r-gr,0],[0,r-gr]]};var _r={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},t.from=function(o){return t.isValid(o)?parseInt(o,10):void 0},t.getPenaltyN1=function(o){const a=o.size;let l=0,u=0,h=0,b=null,g=null;for(let I=0;I<a;I++){u=h=0,b=g=null;for(let L=0;L<a;L++){let T=o.get(I,L);T===b?u++:(u>=5&&(l+=e.N1+(u-5)),b=T,u=1),T=o.get(L,I),T===g?h++:(h>=5&&(l+=e.N1+(h-5)),g=T,h=1)}u>=5&&(l+=e.N1+(u-5)),h>=5&&(l+=e.N1+(h-5))}return l},t.getPenaltyN2=function(o){const a=o.size;let l=0;for(let u=0;u<a-1;u++)for(let h=0;h<a-1;h++){const b=o.get(u,h)+o.get(u,h+1)+o.get(u+1,h)+o.get(u+1,h+1);(b===4||b===0)&&l++}return l*e.N2},t.getPenaltyN3=function(o){const a=o.size;let l=0,u=0,h=0;for(let b=0;b<a;b++){u=h=0;for(let g=0;g<a;g++)u=u<<1&2047|o.get(b,g),g>=10&&(u===1488||u===93)&&l++,h=h<<1&2047|o.get(g,b),g>=10&&(h===1488||h===93)&&l++}return l*e.N3},t.getPenaltyN4=function(o){let a=0;const l=o.data.length;for(let h=0;h<l;h++)a+=o.data[h];return Math.abs(Math.ceil(a*100/l/5)-10)*e.N4};function r(n,o,a){switch(n){case t.Patterns.PATTERN000:return(o+a)%2===0;case t.Patterns.PATTERN001:return o%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(o+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return o*a%2+o*a%3===0;case t.Patterns.PATTERN110:return(o*a%2+o*a%3)%2===0;case t.Patterns.PATTERN111:return(o*a%3+(o+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(o,a){const l=a.size;for(let u=0;u<l;u++)for(let h=0;h<l;h++)a.isReserved(h,u)||a.xor(h,u,r(o,h,u))},t.getBestMask=function(o,a){const l=Object.keys(t.Patterns).length;let u=0,h=1/0;for(let b=0;b<l;b++){a(b),t.applyMask(b,o);const g=t.getPenaltyN1(o)+t.getPenaltyN2(o)+t.getPenaltyN3(o)+t.getPenaltyN4(o);t.applyMask(b,o),g<h&&(h=g,u=b)}return u}})(_r);var we={};const gt=Te,he=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],me=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];we.getBlocksCount=function(e,r){switch(r){case gt.L:return he[(e-1)*4+0];case gt.M:return he[(e-1)*4+1];case gt.Q:return he[(e-1)*4+2];case gt.H:return he[(e-1)*4+3];default:return}};we.getTotalCodewordsCount=function(e,r){switch(r){case gt.L:return me[(e-1)*4+0];case gt.M:return me[(e-1)*4+1];case gt.Q:return me[(e-1)*4+2];case gt.H:return me[(e-1)*4+3];default:return}};var qr={},Ye={};const Mt=new Uint8Array(512),Ze=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)Mt[r]=e,Ze[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)Mt[r]=Mt[r-255]})();Ye.log=function(e){if(e<1)throw new Error("log("+e+")");return Ze[e]};Ye.exp=function(e){return Mt[e]};Ye.mul=function(e,r){return e===0||r===0?0:Mt[Ze[e]+Ze[r]]};(function(t){const e=Ye;t.mul=function(n,o){const a=new Uint8Array(n.length+o.length-1);for(let l=0;l<n.length;l++)for(let u=0;u<o.length;u++)a[l+u]^=e.mul(n[l],o[u]);return a},t.mod=function(n,o){let a=new Uint8Array(n);for(;a.length-o.length>=0;){const l=a[0];for(let h=0;h<o.length;h++)a[h]^=e.mul(o[h],l);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},t.generateECPolynomial=function(n){let o=new Uint8Array([1]);for(let a=0;a<n;a++)o=t.mul(o,new Uint8Array([1,e.exp(a)]));return o}})(qr);const ti=qr;function In(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}In.prototype.initialize=function(e){this.degree=e,this.genPoly=ti.generateECPolynomial(this.degree)};In.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=ti.mod(r,this.genPoly),o=this.degree-n.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(n,o),a}return n};var qc=In,ei={},Zt={},Sn={};Sn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ut={};const ni="[0-9]+",tl="[A-Z $%*+\\-./:]+";let zt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";zt=zt.replace(/u/g,"\\u");const el="(?:(?![A-Z0-9 $%*+\\-./:]|"+zt+`)(?:.|[\r
]))+`;ut.KANJI=new RegExp(zt,"g");ut.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ut.BYTE=new RegExp(el,"g");ut.NUMERIC=new RegExp(ni,"g");ut.ALPHANUMERIC=new RegExp(tl,"g");const nl=new RegExp("^"+zt+"$"),rl=new RegExp("^"+ni+"$"),il=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ut.testKanji=function(e){return nl.test(e)};ut.testNumeric=function(e){return rl.test(e)};ut.testAlphanumeric=function(e){return il.test(e)};(function(t){const e=Sn,r=ut;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,l){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?a.ccBits[0]:l<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return r.testNumeric(a)?t.NUMERIC:r.testAlphanumeric(a)?t.ALPHANUMERIC:r.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+o)}}t.from=function(a,l){if(t.isValid(a))return a;try{return n(a)}catch{return l}}})(Zt);(function(t){const e=st,r=we,n=Te,o=Zt,a=Sn,l=7973,u=e.getBCHDigit(l);function h(L,T,G){for(let S=1;S<=40;S++)if(T<=t.getCapacity(S,G,L))return S}function b(L,T){return o.getCharCountIndicator(L,T)+4}function g(L,T){let G=0;return L.forEach(function(S){const R=b(S.mode,T);G+=R+S.getBitsLength()}),G}function I(L,T){for(let G=1;G<=40;G++)if(g(L,G)<=t.getCapacity(G,T,o.MIXED))return G}t.from=function(T,G){return a.isValid(T)?parseInt(T,10):G},t.getCapacity=function(T,G,S){if(!a.isValid(T))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=o.BYTE);const R=e.getSymbolTotalCodewords(T),C=r.getTotalCodewordsCount(T,G),H=(R-C)*8;if(S===o.MIXED)return H;const Y=H-b(S,T);switch(S){case o.NUMERIC:return Math.floor(Y/10*3);case o.ALPHANUMERIC:return Math.floor(Y/11*2);case o.KANJI:return Math.floor(Y/13);case o.BYTE:default:return Math.floor(Y/8)}},t.getBestVersionForData=function(T,G){let S;const R=n.from(G,n.M);if(Array.isArray(T)){if(T.length>1)return I(T,R);if(T.length===0)return 1;S=T[0]}else S=T;return h(S.mode,S.getLength(),R)},t.getEncodedBits=function(T){if(!a.isValid(T)||T<7)throw new Error("Invalid QR Code version");let G=T<<12;for(;e.getBCHDigit(G)-u>=0;)G^=l<<e.getBCHDigit(G)-u;return T<<12|G}})(ei);var ri={};const hn=st,ii=1335,sl=21522,Zr=hn.getBCHDigit(ii);ri.getEncodedBits=function(e,r){const n=e.bit<<3|r;let o=n<<10;for(;hn.getBCHDigit(o)-Zr>=0;)o^=ii<<hn.getBCHDigit(o)-Zr;return(n<<10|o)^sl};var si={};const ol=Zt;function Ht(t){this.mode=ol.NUMERIC,this.data=t.toString()}Ht.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ht.prototype.getLength=function(){return this.data.length};Ht.prototype.getBitsLength=function(){return Ht.getBitsLength(this.data.length)};Ht.prototype.write=function(e){let r,n,o;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),o=parseInt(n,10),e.put(o,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),o=parseInt(n,10),e.put(o,a*3+1))};var al=Ht;const cl=Zt,_e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Vt(t){this.mode=cl.ALPHANUMERIC,this.data=t}Vt.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Vt.prototype.getLength=function(){return this.data.length};Vt.prototype.getBitsLength=function(){return Vt.getBitsLength(this.data.length)};Vt.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=_e.indexOf(this.data[r])*45;n+=_e.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(_e.indexOf(this.data[r]),6)};var ll=Vt;const dl=Zt;function Pt(t){this.mode=dl.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Pt.getBitsLength=function(e){return e*8};Pt.prototype.getLength=function(){return this.data.length};Pt.prototype.getBitsLength=function(){return Pt.getBitsLength(this.data.length)};Pt.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var ul=Pt;const hl=Zt,ml=st;function xt(t){this.mode=hl.KANJI,this.data=t}xt.getBitsLength=function(e){return e*13};xt.prototype.getLength=function(){return this.data.length};xt.prototype.getBitsLength=function(){return xt.getBitsLength(this.data.length)};xt.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=ml.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var fl=xt,oi={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,o){var a={},l={};l[n]=0;var u=e.PriorityQueue.make();u.push(n,0);for(var h,b,g,I,L,T,G,S,R;!u.empty();){h=u.pop(),b=h.value,I=h.cost,L=r[b]||{};for(g in L)L.hasOwnProperty(g)&&(T=L[g],G=I+T,S=l[g],R=typeof l[g]>"u",(R||S>G)&&(l[g]=G,u.push(g,G),a[g]=b))}if(typeof o<"u"&&typeof l[o]>"u"){var C=["Could not find a path from ",n," to ",o,"."].join("");throw new Error(C)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var o=[],a=n;a;)o.push(a),r[a],a=r[a];return o.reverse(),o},find_path:function(r,n,o){var a=e.single_source_shortest_paths(r,n,o);return e.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,o={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);return o.queue=[],o.sorter=r.sorter||n.default_sorter,o},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var o={value:r,cost:n};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(oi);var pl=oi.exports;(function(t){const e=Zt,r=al,n=ll,o=ul,a=fl,l=ut,u=st,h=pl;function b(C){return unescape(encodeURIComponent(C)).length}function g(C,H,Y){const V=[];let P;for(;(P=C.exec(Y))!==null;)V.push({data:P[0],index:P.index,mode:H,length:P[0].length});return V}function I(C){const H=g(l.NUMERIC,e.NUMERIC,C),Y=g(l.ALPHANUMERIC,e.ALPHANUMERIC,C);let V,P;return u.isKanjiModeEnabled()?(V=g(l.BYTE,e.BYTE,C),P=g(l.KANJI,e.KANJI,C)):(V=g(l.BYTE_KANJI,e.BYTE,C),P=[]),H.concat(Y,V,P).sort(function(U,O){return U.index-O.index}).map(function(U){return{data:U.data,mode:U.mode,length:U.length}})}function L(C,H){switch(H){case e.NUMERIC:return r.getBitsLength(C);case e.ALPHANUMERIC:return n.getBitsLength(C);case e.KANJI:return a.getBitsLength(C);case e.BYTE:return o.getBitsLength(C)}}function T(C){return C.reduce(function(H,Y){const V=H.length-1>=0?H[H.length-1]:null;return V&&V.mode===Y.mode?(H[H.length-1].data+=Y.data,H):(H.push(Y),H)},[])}function G(C){const H=[];for(let Y=0;Y<C.length;Y++){const V=C[Y];switch(V.mode){case e.NUMERIC:H.push([V,{data:V.data,mode:e.ALPHANUMERIC,length:V.length},{data:V.data,mode:e.BYTE,length:V.length}]);break;case e.ALPHANUMERIC:H.push([V,{data:V.data,mode:e.BYTE,length:V.length}]);break;case e.KANJI:H.push([V,{data:V.data,mode:e.BYTE,length:b(V.data)}]);break;case e.BYTE:H.push([{data:V.data,mode:e.BYTE,length:b(V.data)}])}}return H}function S(C,H){const Y={},V={start:{}};let P=["start"];for(let K=0;K<C.length;K++){const U=C[K],O=[];for(let _=0;_<U.length;_++){const v=U[_],yt=""+K+_;O.push(yt),Y[yt]={node:v,lastCount:0},V[yt]={};for(let Tt=0;Tt<P.length;Tt++){const ot=P[Tt];Y[ot]&&Y[ot].node.mode===v.mode?(V[ot][yt]=L(Y[ot].lastCount+v.length,v.mode)-L(Y[ot].lastCount,v.mode),Y[ot].lastCount+=v.length):(Y[ot]&&(Y[ot].lastCount=v.length),V[ot][yt]=L(v.length,v.mode)+4+e.getCharCountIndicator(v.mode,H))}}P=O}for(let K=0;K<P.length;K++)V[P[K]].end=0;return{map:V,table:Y}}function R(C,H){let Y;const V=e.getBestModeForData(C);if(Y=e.from(H,V),Y!==e.BYTE&&Y.bit<V.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(Y)+`.
 Suggested mode is: `+e.toString(V));switch(Y===e.KANJI&&!u.isKanjiModeEnabled()&&(Y=e.BYTE),Y){case e.NUMERIC:return new r(C);case e.ALPHANUMERIC:return new n(C);case e.KANJI:return new a(C);case e.BYTE:return new o(C)}}t.fromArray=function(H){return H.reduce(function(Y,V){return typeof V=="string"?Y.push(R(V,null)):V.data&&Y.push(R(V.data,V.mode)),Y},[])},t.fromString=function(H,Y){const V=I(H,u.isKanjiModeEnabled()),P=G(V),K=S(P,Y),U=h.find_path(K.map,"start","end"),O=[];for(let _=1;_<U.length-1;_++)O.push(K.table[U[_]].node);return t.fromArray(T(O))},t.rawSplit=function(H){return t.fromArray(I(H,u.isKanjiModeEnabled()))}})(si);const He=st,qe=Te,yl=Dc,bl=$c,gl=Dr,Zl=$r,mn=_r,fn=we,Xl=qc,Xe=ei,Gl=ri,Il=Zt,tn=si;function Sl(t,e){const r=t.size,n=Zl.getPositions(e);for(let o=0;o<n.length;o++){const a=n[o][0],l=n[o][1];for(let u=-1;u<=7;u++)if(!(a+u<=-1||r<=a+u))for(let h=-1;h<=7;h++)l+h<=-1||r<=l+h||(u>=0&&u<=6&&(h===0||h===6)||h>=0&&h<=6&&(u===0||u===6)||u>=2&&u<=4&&h>=2&&h<=4?t.set(a+u,l+h,!0,!0):t.set(a+u,l+h,!1,!0))}}function Wl(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Rl(t,e){const r=gl.getPositions(e);for(let n=0;n<r.length;n++){const o=r[n][0],a=r[n][1];for(let l=-2;l<=2;l++)for(let u=-2;u<=2;u++)l===-2||l===2||u===-2||u===2||l===0&&u===0?t.set(o+l,a+u,!0,!0):t.set(o+l,a+u,!1,!0)}}function Cl(t,e){const r=t.size,n=Xe.getEncodedBits(e);let o,a,l;for(let u=0;u<18;u++)o=Math.floor(u/3),a=u%3+r-8-3,l=(n>>u&1)===1,t.set(o,a,l,!0),t.set(a,o,l,!0)}function en(t,e,r){const n=t.size,o=Gl.getEncodedBits(e,r);let a,l;for(a=0;a<15;a++)l=(o>>a&1)===1,a<6?t.set(a,8,l,!0):a<8?t.set(a+1,8,l,!0):t.set(n-15+a,8,l,!0),a<8?t.set(8,n-a-1,l,!0):a<9?t.set(8,15-a-1+1,l,!0):t.set(8,15-a-1,l,!0);t.set(n-8,8,1,!0)}function Ll(t,e){const r=t.size;let n=-1,o=r-1,a=7,l=0;for(let u=r-1;u>0;u-=2)for(u===6&&u--;;){for(let h=0;h<2;h++)if(!t.isReserved(o,u-h)){let b=!1;l<e.length&&(b=(e[l]>>>a&1)===1),t.set(o,u-h,b),a--,a===-1&&(l++,a=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}function Tl(t,e,r){const n=new yl;r.forEach(function(h){n.put(h.mode.bit,4),n.put(h.getLength(),Il.getCharCountIndicator(h.mode,t)),h.write(n)});const o=He.getSymbolTotalCodewords(t),a=fn.getTotalCodewordsCount(t,e),l=(o-a)*8;for(n.getLengthInBits()+4<=l&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const u=(l-n.getLengthInBits())/8;for(let h=0;h<u;h++)n.put(h%2?17:236,8);return wl(n,t,e)}function wl(t,e,r){const n=He.getSymbolTotalCodewords(e),o=fn.getTotalCodewordsCount(e,r),a=n-o,l=fn.getBlocksCount(e,r),u=n%l,h=l-u,b=Math.floor(n/l),g=Math.floor(a/l),I=g+1,L=b-g,T=new Xl(L);let G=0;const S=new Array(l),R=new Array(l);let C=0;const H=new Uint8Array(t.buffer);for(let U=0;U<l;U++){const O=U<h?g:I;S[U]=H.slice(G,G+O),R[U]=T.encode(S[U]),G+=O,C=Math.max(C,O)}const Y=new Uint8Array(n);let V=0,P,K;for(P=0;P<C;P++)for(K=0;K<l;K++)P<S[K].length&&(Y[V++]=S[K][P]);for(P=0;P<L;P++)for(K=0;K<l;K++)Y[V++]=R[K][P];return Y}function Yl(t,e,r,n){let o;if(Array.isArray(t))o=tn.fromArray(t);else if(typeof t=="string"){let b=e;if(!b){const g=tn.rawSplit(t);b=Xe.getBestVersionForData(g,r)}o=tn.fromString(t,b||40)}else throw new Error("Invalid data");const a=Xe.getBestVersionForData(o,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=a;else if(e<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const l=Tl(e,r,o),u=He.getSymbolSize(e),h=new bl(u);return Sl(h,e),Wl(h),Rl(h,e),en(h,r,0),e>=7&&Cl(h,e),Ll(h,l),isNaN(n)&&(n=mn.getBestMask(h,en.bind(null,h,r))),mn.applyMask(n,h),en(h,r,n),{modules:h,version:e,errorCorrectionLevel:r,maskPattern:n,segments:o}}Or.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=qe.M,o,a;return typeof r<"u"&&(n=qe.from(r.errorCorrectionLevel,qe.M),o=Xe.from(r.version),a=mn.from(r.maskPattern),r.toSJISFunc&&He.setToSJISFunction(r.toSJISFunc)),Yl(e,o,n,a)};var ai={},Wn={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const o=parseInt(n.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,l=n.scale||4;return{width:a,scale:a?4:l,margin:o,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,o){return o.width&&o.width>=n+o.margin*2?o.width/(n+o.margin*2):o.scale},t.getImageWidth=function(n,o){const a=t.getScale(n,o);return Math.floor((n+o.margin*2)*a)},t.qrToImageData=function(n,o,a){const l=o.modules.size,u=o.modules.data,h=t.getScale(l,a),b=Math.floor((l+a.margin*2)*h),g=a.margin*h,I=[a.color.light,a.color.dark];for(let L=0;L<b;L++)for(let T=0;T<b;T++){let G=(L*b+T)*4,S=a.color.light;if(L>=g&&T>=g&&L<b-g&&T<b-g){const R=Math.floor((L-g)/h),C=Math.floor((T-g)/h);S=I[u[R*l+C]?1:0]}n[G++]=S.r,n[G++]=S.g,n[G++]=S.b,n[G]=S.a}}})(Wn);(function(t){const e=Wn;function r(o,a,l){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=l,a.width=l,a.style.height=l+"px",a.style.width=l+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,l,u){let h=u,b=l;typeof h>"u"&&(!l||!l.getContext)&&(h=l,l=void 0),l||(b=n()),h=e.getOptions(h);const g=e.getImageWidth(a.modules.size,h),I=b.getContext("2d"),L=I.createImageData(g,g);return e.qrToImageData(L.data,a,h),r(I,b,g),I.putImageData(L,0,0),b},t.renderToDataURL=function(a,l,u){let h=u;typeof h>"u"&&(!l||!l.getContext)&&(h=l,l=void 0),h||(h={});const b=t.render(a,l,h),g=h.type||"image/png",I=h.rendererOpts||{};return b.toDataURL(g,I.quality)}})(ai);var ci={};const Hl=Wn;function Xr(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function nn(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Vl(t,e,r){let n="",o=0,a=!1,l=0;for(let u=0;u<t.length;u++){const h=Math.floor(u%e),b=Math.floor(u/e);!h&&!a&&(a=!0),t[u]?(l++,u>0&&h>0&&t[u-1]||(n+=a?nn("M",h+r,.5+b+r):nn("m",o,0),o=0,a=!1),h+1<e&&t[u+1]||(n+=nn("h",l),l=0)):o++}return n}ci.render=function(e,r,n){const o=Hl.getOptions(r),a=e.modules.size,l=e.modules.data,u=a+o.margin*2,h=o.color.light.a?"<path "+Xr(o.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",b="<path "+Xr(o.color.dark,"stroke")+' d="'+Vl(l,a,o.margin)+'"/>',g='viewBox="0 0 '+u+" "+u+'"',L='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+g+' shape-rendering="crispEdges">'+h+b+`</svg>
`;return typeof n=="function"&&n(null,L),L};const Pl=Oc,pn=Or,li=ai,xl=ci;function Rn(t,e,r,n,o){const a=[].slice.call(arguments,1),l=a.length,u=typeof a[l-1]=="function";if(!u&&!Pl())throw new Error("Callback required as last argument");if(u){if(l<2)throw new Error("Too few arguments provided");l===2?(o=r,r=e,e=n=void 0):l===3&&(e.getContext&&typeof o>"u"?(o=n,n=void 0):(o=n,n=r,r=e,e=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(r=e,e=n=void 0):l===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(h,b){try{const g=pn.create(r,n);h(t(g,e,n))}catch(g){b(g)}})}try{const h=pn.create(r,n);o(null,t(h,e,n))}catch(h){o(h)}}At.create=pn.create;At.toCanvas=Rn.bind(null,li.render);At.toDataURL=Rn.bind(null,li.renderToDataURL);At.toString=Rn.bind(null,function(t,e,r){return xl.render(t,r)});window.QRCode=At;window.barcodeScannerWasm=jc;
